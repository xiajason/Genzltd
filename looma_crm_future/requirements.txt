# Looma CRM AI架构重构 - 统一依赖管理
# 基于Python Sanic + 微服务架构

# Web框架
sanic==23.12.1
sanic-cors==2.2.0

# 数据库驱动 (使用版本范围)
sqlalchemy>=2.0.0,<3.0.0
aiomysql>=0.2.0,<1.0.0
mysql-connector-python>=8.2.0,<10.0.0
asyncpg>=0.29.0,<1.0.0
psycopg2-binary>=2.9.0,<3.0.0
redis>=5.0.0,<6.0.0
neo4j>=5.0.0,<7.0.0
pymongo>=4.0.0,<5.0.0
motor>=3.0.0,<4.0.0

# 数据验证和序列化 (使用版本范围)
marshmallow>=3.20.0,<4.0.0
marshmallow-sqlalchemy>=0.29.0,<2.0.0
pydantic>=2.0.0,<3.0.0

# AI和机器学习 (使用版本范围避免解析太深)
openai==1.3.7
transformers>=4.30.2,<5.0.0
torch>=2.0.0,<3.0.0
numpy>=1.24.3,<2.0.0
scikit-learn>=1.3.2,<2.0.0
# 修复PyYAML版本冲突
PyYAML>=6.0.0,<7.0.0

# 向量数据库 (使用版本范围)
weaviate-client>=3.25.0,<5.0.0

# 搜索引擎 (使用版本范围)
elasticsearch>=8.0.0,<10.0.0

# 文档处理 (使用版本范围)
PyPDF2>=3.0.0,<4.0.0
python-docx>=1.0.0,<2.0.0
openpyxl>=3.0.0,<4.0.0

# 工具库 (使用版本范围)
python-dotenv>=1.0.0,<2.0.0
uuid>=1.30,<2.0
python-dateutil>=2.8.0,<3.0.0
bcrypt>=4.0.0,<5.0.0
aiohttp>=3.9.0,<4.0.0
httpx>=0.25.0,<1.0.0

# 监控和日志 (使用版本范围)
prometheus-client>=0.19.0,<1.0.0
loguru>=0.7.0,<1.0.0
psutil>=5.9.0,<6.0.0

# 开发工具 (使用版本范围避免解析太深)
pytest>=7.4.0,<9.0.0
pytest-asyncio>=0.21.0,<2.0.0
black>=23.12.0,<26.0.0
flake8>=6.1.0,<8.0.0
mypy>=1.7.0,<2.0.0
bandit>=1.7.0,<2.0.0
# safety==2.3.5  # 移除，与black的packaging版本要求冲突

# 测试工具 (使用版本范围)
locust>=2.17.0,<3.0.0
testcontainers>=3.7.0,<5.0.0
selenium>=4.15.0,<5.0.0

# 部署工具 (使用版本范围)
docker>=6.1.0,<8.0.0
docker-compose>=1.29.0,<2.0.0
