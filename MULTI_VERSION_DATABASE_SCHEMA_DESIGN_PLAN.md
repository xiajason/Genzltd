# 多版本数据库表结构设计计划

**文档版本**: v1.0  
**创建时间**: 2025-10-05  
**适用版本**: Future版、DAO版、区块链版  

## 📋 设计目标

基于已完成的三版本数据库连接验证，设计各版本的具体数据库表结构和字段定义，确保：
1. **版本差异化**: 每个版本有独特的业务逻辑支持
2. **数据一致性**: 保持核心数据结构的兼容性
3. **扩展性**: 支持未来业务发展需求
4. **性能优化**: 针对不同版本的性能要求优化

## 🎯 各版本业务定位

### Future版 (传统简历管理)
- **核心业务**: 简历管理、求职匹配、企业招聘
- **数据库特点**: MySQL + SQLite 混合架构
- **表数量**: 20个MySQL表 + 7个SQLite表
- **特色功能**: 简历解析、模板管理、积分系统

### DAO版 (去中心化自治组织)
- **核心业务**: 去中心化治理、代币经济、社区管理
- **数据库特点**: 区块链数据 + 传统数据库
- **特色功能**: 提案管理、投票系统、代币分配、治理机制

### 区块链版 (加密货币交易)
- **核心业务**: 数字钱包、交易记录、智能合约
- **数据库特点**: 区块链数据 + 交易数据
- **特色功能**: 钱包管理、交易历史、合约执行、DeFi集成

## 📊 数据库表结构设计矩阵

| 功能模块 | Future版 | DAO版 | 区块链版 | 说明 |
|----------|----------|-------|----------|------|
| **用户管理** | ✅ users, user_profiles | ✅ dao_users, dao_profiles | ✅ blockchain_users, wallet_profiles | 基础用户信息 |
| **认证系统** | ✅ user_sessions | ✅ dao_sessions | ✅ blockchain_sessions | 登录认证 |
| **简历管理** | ✅ resume_metadata, resume_content | ❌ 不适用 | ❌ 不适用 | Future版专有 |
| **DAO治理** | ❌ 不适用 | ✅ proposals, votes, governance | ❌ 不适用 | DAO版专有 |
| **区块链交易** | ❌ 不适用 | ❌ 不适用 | ✅ transactions, smart_contracts | 区块链版专有 |
| **钱包管理** | ❌ 不适用 | ✅ dao_wallets | ✅ blockchain_wallets | DAO版和区块链版 |
| **积分系统** | ✅ points, point_history | ✅ dao_points, dao_rewards | ❌ 不适用 | Future版和DAO版 |
| **通知系统** | ✅ notifications | ✅ dao_notifications | ✅ blockchain_notifications | 通用功能 |
| **日志系统** | ✅ audit_logs | ✅ dao_audit_logs | ✅ blockchain_audit_logs | 通用功能 |

## 🔧 设计原则

### 1. 核心表结构统一
- **用户表**: 所有版本保持基础字段一致
- **认证表**: 统一的登录认证机制
- **日志表**: 统一的操作审计日志

### 2. 业务表差异化
- **Future版**: 专注简历和求职功能
- **DAO版**: 专注去中心化治理功能
- **区块链版**: 专注加密货币交易功能

### 3. 数据隔离
- **版本隔离**: 每个版本使用独立的数据库
- **网络隔离**: 每个版本使用独立的Docker网络
- **端口隔离**: 每个版本使用不同的外部端口

## 📝 实施步骤

### 阶段1: 分析现有结构 (已完成)
- ✅ 分析Future版现有表结构
- ✅ 验证三版本数据库连接
- ✅ 确定设计原则和差异化策略

### 阶段2: 设计DAO版表结构 (进行中)
- 🔄 设计DAO治理相关表
- 🔄 设计代币经济相关表
- 🔄 设计社区管理相关表
- ⏳ 生成DAO版SQL创建脚本

### 阶段3: 设计区块链版表结构
- ⏳ 设计钱包管理相关表
- ⏳ 设计交易记录相关表
- ⏳ 设计智能合约相关表
- ⏳ 生成区块链版SQL创建脚本

### 阶段4: 验证和优化
- ⏳ 验证表结构兼容性
- ⏳ 优化索引和性能
- ⏳ 生成完整的数据库文档

## 🎯 预期成果

### 1. 完整的设计文档
- DAO版数据库表结构设计文档
- 区块链版数据库表结构设计文档
- 三版本表结构对比分析文档

### 2. 可执行的SQL脚本
- DAO版数据库初始化脚本
- 区块链版数据库初始化脚本
- 版本升级迁移脚本

### 3. 验证和测试
- 表结构创建验证
- 数据一致性测试
- 性能基准测试

---

**下一步**: 开始设计DAO版的数据库表结构，重点关注去中心化治理和代币经济功能。
