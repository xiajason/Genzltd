# 三环境数据一致性测试报告

**测试时间**: 2025-10-03 07:37:11  
**测试版本**: v1.0  
**测试目标**: 三环境数据一致性验证  

---

## 📊 测试环境

### 环境配置
- **本地环境**: http://localhost:3000
- **腾讯云环境**: http://101.33.251.158:9200  
- **阿里云环境**: http://47.115.168.107:9200

### 数据库配置
- **本地数据库**: localhost:3306
- **腾讯云数据库**: 101.33.251.158:3306
- **阿里云数据库**: 47.115.168.107:3306

### DAO数据库配置
- **本地DAO数据库**: localhost:9506
- **腾讯云DAO数据库**: 101.33.251.158:9506
- **阿里云DAO数据库**: 47.115.168.107:9507

---

## 🔍 测试结果


### 1. 环境连通性检查

```
❌ 本地环境: 连通失败
✅ 腾讯云环境: 连通正常
✅ 阿里云环境: 连通正常
```


### 2. 数据库连接检查

```
❌ 本地数据库: 连接失败
❌ 腾讯云数据库: 连接失败
❌ 阿里云数据库: 连接失败
```


### 3. 数据库表结构一致性检查

```
✅ 表结构一致性: 通过
```

#### 表结构详情
- **本地环境表数量**:        1
- **腾讯云环境表数量**:        1
- **阿里云环境表数量**:        1

```yaml
本地环境表列表:
  - 

腾讯云环境表列表:
  - 

阿里云环境表列表:
  - 
```


### 4. API数据一致性检查

```
⚠️ /api/health: 响应不一致
⚠️ /api/trpc/daoConfig.getDAOTypes: 响应不一致
⚠️ /api/users: 响应不一致
```


### 5. DAO数据库一致性检查

```
✅ dao_configs: 数据一致 ( 条记录)
✅ dao_settings: 数据一致 ( 条记录)
✅ dao_members: 数据一致 ( 条记录)
✅ dao_proposals: 数据一致 ( 条记录)
```


---

## 📊 测试总结

### 测试统计
- **总测试项**: 14
- **通过测试**: 7
- **通过率**: 50%

### 测试结论
- ❌ **测试未通过**: 存在严重不一致问题
- ❌ **系统状态**: 需要全面检查和修复
- ❌ **建议**: 停止后续测试，优先修复问题

---

**测试完成时间**: 2025-10-03 07:40:55  
**测试报告**: data-consistency-test-results/data-consistency-test-report.md  
**下一步**: 根据测试结果决定后续行动

