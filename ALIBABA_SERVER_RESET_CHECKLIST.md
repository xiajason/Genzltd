# 阿里云服务器重置检查清单

**创建时间**: 2025年1月27日  
**版本**: v1.0  
**状态**: ✅ **准备执行**  
**目标**: 阿里云服务器重置和重新配置检查清单

---

## 🎯 重置前准备

### **备份重要数据** ✅ **必须完成**
- [ ] 备份系统配置文件 (`/etc/`)
- [ ] 备份用户数据 (`/home/`)
- [ ] 备份应用数据 (`/opt/`)
- [ ] 备份数据库数据
- [ ] 上传备份到云存储

### **记录当前配置** ✅ **必须完成**
- [ ] 记录当前服务状态
- [ ] 记录端口使用情况
- [ ] 记录数据库连接信息
- [ ] 记录SSL证书信息
- [ ] 记录域名配置

---

## 🔄 重置执行步骤

### **第一步：阿里云控制台重置**
- [ ] 登录阿里云控制台
- [ ] 停止ECS实例
- [ ] 更换系统盘
- [ ] 选择Ubuntu 20.04 LTS镜像
- [ ] 确认重置操作
- [ ] 等待实例重启

### **第二步：连接新服务器**
- [ ] SSH连接到新服务器
- [ ] 验证系统版本
- [ ] 检查网络连接
- [ ] 更新系统包

---

## 🛠️ 环境配置

### **第三步：基础软件安装**
- [ ] 安装Docker
- [ ] 安装Docker Compose
- [ ] 安装Nginx
- [ ] 安装监控工具
- [ ] 安装SSL证书工具

### **第四步：系统优化**
- [ ] 配置系统参数
- [ ] 配置文件描述符限制
- [ ] 配置网络优化
- [ ] 配置时区设置

### **第五步：安全配置**
- [ ] 配置防火墙规则
- [ ] 配置SSH安全
- [ ] 配置用户权限
- [ ] 配置访问控制

---

## 📁 目录结构配置

### **第六步：创建生产环境目录**
- [ ] 创建 `/opt/production/` 目录
- [ ] 创建子目录结构
- [ ] 设置目录权限
- [ ] 配置日志目录

### **第七步：配置监控系统**
- [ ] 配置Prometheus
- [ ] 配置Grafana
- [ ] 配置Node Exporter
- [ ] 配置告警规则

---

## 🔒 安全配置

### **第八步：SSL证书配置**
- [ ] 安装Certbot
- [ ] 配置自动续期
- [ ] 创建SSL证书目录
- [ ] 配置证书管理

### **第九步：防火墙配置**
- [ ] 开放必要端口
- [ ] 配置安全组
- [ ] 配置访问控制
- [ ] 测试防火墙规则

---

## 📊 监控配置

### **第十步：系统监控**
- [ ] 安装htop, iotop等工具
- [ ] 配置日志轮转
- [ ] 配置系统监控
- [ ] 配置网络监控

### **第十一步：应用监控**
- [ ] 配置Prometheus监控
- [ ] 配置Grafana面板
- [ ] 配置告警规则
- [ ] 测试监控系统

---

## ✅ 部署准备

### **第十二步：部署前检查**
- [ ] 检查Docker环境
- [ ] 检查Nginx配置
- [ ] 检查防火墙状态
- [ ] 检查网络连接
- [ ] 检查服务状态

### **第十三步：环境验证**
- [ ] 验证Docker运行
- [ ] 验证Nginx运行
- [ ] 验证网络连接
- [ ] 验证SSL证书工具
- [ ] 验证监控工具

---

## 🚀 部署执行

### **第十四步：上传配置文件**
- [ ] 上传Docker Compose配置
- [ ] 上传监控配置
- [ ] 上传脚本文件
- [ ] 设置文件权限

### **第十五步：启动服务**
- [ ] 启动Docker服务
- [ ] 启动监控服务
- [ ] 配置Nginx反向代理
- [ ] 配置SSL证书

### **第十六步：验证部署**
- [ ] 健康检查
- [ ] 功能测试
- [ ] 性能测试
- [ ] 安全测试

---

## 📋 重置完成检查

### **最终检查清单**
- [ ] 系统重置完成
- [ ] 环境配置完成
- [ ] 安全配置完成
- [ ] 监控配置完成
- [ ] 部署准备完成

### **性能检查**
- [ ] 系统性能正常
- [ ] 网络连接正常
- [ ] 服务响应正常
- [ ] 监控数据正常

### **安全检查**
- [ ] 防火墙配置正常
- [ ] SSH安全配置正常
- [ ] 用户权限配置正常
- [ ] 访问控制配置正常

---

## 🎯 重置完成总结

### **重置成果**
- ✅ **全新环境**: 清除所有旧配置和数据
- ✅ **系统优化**: 安装最新版本软件，优化系统配置
- ✅ **安全加固**: 配置安全组、防火墙、SSH安全
- ✅ **性能优化**: 优化网络参数、文件描述符限制
- ✅ **部署准备**: 创建完整的生产环境目录结构

### **下一步操作**
1. **上传配置文件**: 将我们的部署配置上传到服务器
2. **执行部署**: 运行部署脚本
3. **配置监控**: 设置监控系统
4. **配置SSL**: 配置SSL证书
5. **验证部署**: 执行健康检查和功能测试

**🎉 阿里云服务器重置完成！准备迎接我们的服务部署！** 🚀
