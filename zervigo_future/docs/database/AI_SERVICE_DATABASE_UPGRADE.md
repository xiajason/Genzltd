# JobFirst AIæœåŠ¡æ•°æ®åº“å‡çº§æ–¹æ¡ˆ - æ–°æž¶æž„ç‰ˆæœ¬

**è®¾è®¡æ—¥æœŸ**: 2025å¹´1æœˆ6æ—¥  
**æ›´æ–°æ—¥æœŸ**: 2025å¹´9æœˆ13æ—¥  
**ç›®æ ‡**: ä¸ºJobFirst AIæœåŠ¡è®¾è®¡ä¼ä¸šå’ŒèŒä½ç›¸å…³çš„å¤§æ¨¡åž‹æœåŠ¡æ•°æ®åº“æž¶æž„  
**åŸºç¡€**: åŸºäºŽJOBFIRST_UPGRADE_GUIDE.mdçš„å‡çº§æ–¹æ¡ˆ  
**æ–°æž¶æž„**: é›†æˆç®€åŽ†å­˜å‚¨æž¶æž„çš„æ•°æ®åˆ†ç¦»å­˜å‚¨åŽŸåˆ™  

## ðŸ“‹ è®¾è®¡æ¦‚è¿°

æœ¬æ–¹æ¡ˆä¸ºJobFirst AIæœåŠ¡è®¾è®¡ä¸“é—¨çš„å¤§æ¨¡åž‹æœåŠ¡æ•°æ®åº“æž¶æž„ï¼Œæ”¯æŒä¼ä¸šåˆ†æžã€èŒä½åŒ¹é…ã€æ™ºèƒ½æŽ¨èã€æŠ€èƒ½è¯„ä¼°ç­‰AIåŠŸèƒ½ã€‚åŸºäºŽçŽ°ä»£AIæœåŠ¡çš„æœ€ä½³å®žè·µï¼Œ**é›†æˆæ–°çš„ç®€åŽ†å­˜å‚¨æž¶æž„**ï¼Œæä¾›å®Œæ•´çš„æ•°æ®åº“å‡çº§æ–¹æ¡ˆã€‚

### ðŸ†• æ–°æž¶æž„é›†æˆç‰¹ç‚¹

1. **æ•°æ®åˆ†ç¦»å­˜å‚¨**: éµå¾ªMySQLå­˜å‚¨å…ƒæ•°æ®ï¼ŒSQLiteå­˜å‚¨ç”¨æˆ·å†…å®¹çš„è®¾è®¡åŽŸåˆ™
2. **AIæœåŠ¡å¢žå¼º**: åœ¨ä¿æŒæ•°æ®åˆ†ç¦»çš„åŸºç¡€ä¸Šï¼Œå¢žå¼ºAIæœåŠ¡çš„æ™ºèƒ½åˆ†æžèƒ½åŠ›
3. **è·¨æ•°æ®åº“åä½œ**: AIæœåŠ¡å¯ä»¥åŒæ—¶è®¿é—®MySQLå…ƒæ•°æ®å’ŒSQLiteç”¨æˆ·å†…å®¹
4. **éšç§ä¿æŠ¤**: AIåˆ†æžç»“æžœå­˜å‚¨åœ¨ç”¨æˆ·ä¸“å±žçš„SQLiteæ•°æ®åº“ä¸­
5. **PostgreSQLæƒé™ç®¡ç†**: å®žæ–½åˆ†çº§æƒé™æŽ§åˆ¶ï¼Œç¡®ä¿AIå‘é‡æ•°æ®å®‰å…¨è®¿é—®

## ðŸ§  AIæœåŠ¡æ ¸å¿ƒåŠŸèƒ½åˆ†æž

### 1. ä¼ä¸šæ™ºèƒ½åˆ†æžæœåŠ¡
- **ä¼ä¸šç”»åƒç”Ÿæˆ**: åŸºäºŽå…¬å¸ä¿¡æ¯ç”Ÿæˆä¼ä¸šç”»åƒ
- **è¡Œä¸šåˆ†æž**: è¡Œä¸šè¶‹åŠ¿å’Œç«žäº‰åˆ†æž
- **ä¼ä¸šåŒ¹é…åº¦è¯„ä¼°**: ç”¨æˆ·ä¸Žä¼ä¸šåŒ¹é…åº¦è®¡ç®—
- **ä¼ä¸šæŽ¨è**: åŸºäºŽç”¨æˆ·åå¥½çš„ä¼ä¸šæŽ¨è

### 2. èŒä½æ™ºèƒ½åŒ¹é…æœåŠ¡
- **èŒä½æè¿°ç”Ÿæˆ**: AIç”Ÿæˆæ ‡å‡†åŒ–èŒä½æè¿°
- **æŠ€èƒ½åŒ¹é…åˆ†æž**: ç”¨æˆ·æŠ€èƒ½ä¸ŽèŒä½è¦æ±‚åŒ¹é…åº¦
- **è–ªèµ„é¢„æµ‹**: åŸºäºŽå¸‚åœºæ•°æ®çš„è–ªèµ„é¢„æµ‹
- **èŒä½æŽ¨è**: ä¸ªæ€§åŒ–èŒä½æŽ¨èç®—æ³•

### 3. ç”¨æˆ·ç”»åƒå’ŒæŽ¨èæœåŠ¡
- **ç”¨æˆ·ç”»åƒæž„å»º**: åŸºäºŽç®€åŽ†å’Œå·¥ä½œç»åŽ†æž„å»ºç”¨æˆ·ç”»åƒ
- **èŒä¸šå‘å±•è·¯å¾„**: AIç”Ÿæˆä¸ªæ€§åŒ–èŒä¸šå‘å±•å»ºè®®
- **æŠ€èƒ½å·®è·åˆ†æž**: åˆ†æžç”¨æˆ·æŠ€èƒ½ä¸Žç›®æ ‡èŒä½çš„å·®è·
- **å­¦ä¹ å»ºè®®**: åŸºäºŽæŠ€èƒ½å·®è·çš„å­¦ä¹ è·¯å¾„æŽ¨è

### 4. æ™ºèƒ½å¯¹è¯å’Œåˆ†æžæœåŠ¡ - æ–°æž¶æž„å¢žå¼º
- **ç®€åŽ†ä¼˜åŒ–å»ºè®®**: AIåˆ†æžç®€åŽ†å¹¶æä¾›ä¼˜åŒ–å»ºè®®ï¼ˆåŸºäºŽSQLiteç”¨æˆ·å†…å®¹ï¼‰
- **é¢è¯•å‡†å¤‡**: åŸºäºŽèŒä½è¦æ±‚ç”Ÿæˆé¢è¯•é—®é¢˜
- **å¸‚åœºæ´žå¯Ÿ**: è¡Œä¸šå’ŒèŒä½å¸‚åœºè¶‹åŠ¿åˆ†æž
- **æ™ºèƒ½é—®ç­”**: èŒä¸šå‘å±•ç›¸å…³é—®é¢˜çš„æ™ºèƒ½å›žç­”
- **éšç§ä¿æŠ¤åˆ†æž**: AIåˆ†æžç»“æžœå­˜å‚¨åœ¨ç”¨æˆ·ä¸“å±žSQLiteæ•°æ®åº“ä¸­
- **è·¨æ•°æ®åº“åä½œ**: ç»“åˆMySQLå…ƒæ•°æ®å’ŒSQLiteå†…å®¹è¿›è¡Œç»¼åˆåˆ†æž

## ðŸ—„ï¸ AIæœåŠ¡æ•°æ®åº“æž¶æž„è®¾è®¡ - æ–°æž¶æž„ç‰ˆæœ¬

### ðŸ†• æ–°æž¶æž„AIæœåŠ¡é›†æˆè®¾è®¡

#### è·¨æ•°æ®åº“AIåˆ†æžæž¶æž„
```
ðŸ“Š MySQLæ•°æ®åº“ (AIå…ƒæ•°æ®)
â”œâ”€â”€ ai_models (AIæ¨¡åž‹ç®¡ç†)
â”œâ”€â”€ ai_analysis_tasks (AIåˆ†æžä»»åŠ¡)
â”œâ”€â”€ ai_recommendations (AIæŽ¨èç»“æžœ)
â””â”€â”€ ai_insights (AIæ´žå¯Ÿæ•°æ®)

ðŸ“ SQLiteæ•°æ®åº“ (ç”¨æˆ·ä¸“å±žAIç»“æžœ)
â”œâ”€â”€ ai_analysis_results (AIåˆ†æžç»“æžœ)
â”œâ”€â”€ ai_optimization_suggestions (ä¼˜åŒ–å»ºè®®)
â”œâ”€â”€ ai_career_recommendations (èŒä¸šå»ºè®®)
â””â”€â”€ ai_privacy_settings (AIéšç§è®¾ç½®)

ðŸ—„ï¸ PostgreSQLæ•°æ®åº“ (AIå‘é‡æ•°æ®)
â”œâ”€â”€ resume_vectors (ç®€åŽ†å‘é‡) - RLSä¿æŠ¤
â”œâ”€â”€ user_embeddings (ç”¨æˆ·åµŒå…¥) - RLSä¿æŠ¤
â”œâ”€â”€ user_ai_profiles (ç”¨æˆ·AIæ¡£æ¡ˆ) - RLSä¿æŠ¤
â””â”€â”€ company_embeddings (ä¼ä¸šåµŒå…¥)

ðŸ”„ è·¨æ•°æ®åº“AIåä½œ
MySQL AIå…ƒæ•°æ® â†” SQLiteç”¨æˆ·AIç»“æžœ â†” PostgreSQLå‘é‡æ•°æ® (é€šè¿‡user_idå…³è”)
```

### 1. AIæ¨¡åž‹ç®¡ç†æ¨¡å— - æ–°æž¶æž„

#### 1.1 åˆ›å»ºai_modelsè¡¨
```sql
CREATE TABLE ai_models (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL UNIQUE,
    version VARCHAR(20) NOT NULL,
    model_type ENUM('text_generation', 'embedding', 'classification', 'regression', 'recommendation') NOT NULL,
    provider ENUM('openai', 'anthropic', 'google', 'azure', 'local', 'custom') NOT NULL,
    model_identifier VARCHAR(200) NOT NULL,
    description TEXT,
    parameters JSON,
    performance_metrics JSON,
    is_active TINYINT(1) DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_name (name),
    INDEX idx_model_type (model_type),
    INDEX idx_provider (provider),
    INDEX idx_is_active (is_active)
);
```

#### 1.2 åˆ›å»ºmodel_versionsè¡¨
```sql
CREATE TABLE model_versions (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    model_id BIGINT UNSIGNED NOT NULL,
    version VARCHAR(20) NOT NULL,
    model_path VARCHAR(500),
    config JSON,
    training_data_hash VARCHAR(64),
    performance_score DECIMAL(5,4),
    is_production TINYINT(1) DEFAULT 0,
    deployed_at TIMESTAMP NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_model_version (model_id, version),
    FOREIGN KEY (model_id) REFERENCES ai_models(id) ON DELETE CASCADE,
    
    INDEX idx_model_id (model_id),
    INDEX idx_is_production (is_production)
);
```

### 2. ä¼ä¸šAIåˆ†æžæ¨¡å—

#### 2.1 åˆ›å»ºcompany_ai_profilesè¡¨
```sql
CREATE TABLE company_ai_profiles (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    company_id BIGINT UNSIGNED NOT NULL,
    profile_type ENUM('basic', 'detailed', 'competitive', 'culture') NOT NULL,
    profile_data JSON NOT NULL,
    confidence_score DECIMAL(5,4),
    generated_by_model_id BIGINT UNSIGNED,
    generated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    expires_at TIMESTAMP,
    is_valid TINYINT(1) DEFAULT 1,
    
    FOREIGN KEY (company_id) REFERENCES companies(id) ON DELETE CASCADE,
    FOREIGN KEY (generated_by_model_id) REFERENCES ai_models(id) ON DELETE SET NULL,
    
    INDEX idx_company_id (company_id),
    INDEX idx_profile_type (profile_type),
    INDEX idx_generated_at (generated_at),
    INDEX idx_is_valid (is_valid)
);
```

#### 2.2 åˆ›å»ºcompany_embeddingsè¡¨
```sql
CREATE TABLE company_embeddings (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    company_id BIGINT UNSIGNED NOT NULL,
    embedding_type ENUM('description', 'culture', 'benefits', 'overall') NOT NULL,
    embedding_vector JSON NOT NULL,
    model_id BIGINT UNSIGNED NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (company_id) REFERENCES companies(id) ON DELETE CASCADE,
    FOREIGN KEY (model_id) REFERENCES ai_models(id) ON DELETE CASCADE,
    
    INDEX idx_company_id (company_id),
    INDEX idx_embedding_type (embedding_type),
    INDEX idx_model_id (model_id)
);
```

#### 2.3 åˆ›å»ºindustry_analysisè¡¨
```sql
CREATE TABLE industry_analysis (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    industry VARCHAR(100) NOT NULL,
    analysis_type ENUM('trend', 'salary', 'skills', 'competition', 'growth') NOT NULL,
    analysis_data JSON NOT NULL,
    confidence_score DECIMAL(5,4),
    generated_by_model_id BIGINT UNSIGNED,
    analysis_period_start DATE NOT NULL,
    analysis_period_end DATE NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    FOREIGN KEY (generated_by_model_id) REFERENCES ai_models(id) ON DELETE SET NULL,
    
    UNIQUE KEY unique_industry_analysis (industry, analysis_type, analysis_period_start),
    INDEX idx_industry (industry),
    INDEX idx_analysis_type (analysis_type),
    INDEX idx_analysis_period_start (analysis_period_start)
);
```

### 3. èŒä½AIåˆ†æžæ¨¡å—

#### 3.1 åˆ›å»ºjob_ai_analysisè¡¨
```sql
CREATE TABLE job_ai_analysis (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    job_id INT NOT NULL,
    analysis_type ENUM('description_enhancement', 'skill_extraction', 'salary_prediction', 'match_score') NOT NULL,
    analysis_result JSON NOT NULL,
    confidence_score DECIMAL(5,4),
    generated_by_model_id BIGINT UNSIGNED,
    generated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    expires_at TIMESTAMP,
    is_valid TINYINT(1) DEFAULT 1,
    
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    FOREIGN KEY (generated_by_model_id) REFERENCES ai_models(id) ON DELETE SET NULL,
    
    INDEX idx_job_id (job_id),
    INDEX idx_analysis_type (analysis_type),
    INDEX idx_generated_at (generated_at),
    INDEX idx_is_valid (is_valid)
);
```

#### 3.2 åˆ›å»ºjob_embeddingsè¡¨
```sql
CREATE TABLE job_embeddings (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    job_id INT NOT NULL,
    embedding_type ENUM('title', 'description', 'requirements', 'overall') NOT NULL,
    embedding_vector JSON NOT NULL,
    model_id BIGINT UNSIGNED NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    FOREIGN KEY (model_id) REFERENCES ai_models(id) ON DELETE CASCADE,
    
    INDEX idx_job_id (job_id),
    INDEX idx_embedding_type (embedding_type),
    INDEX idx_model_id (model_id)
);
```

#### 3.3 åˆ›å»ºskill_embeddingsè¡¨
```sql
CREATE TABLE skill_embeddings (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    skill_id BIGINT UNSIGNED NOT NULL,
    embedding_vector JSON NOT NULL,
    model_id BIGINT UNSIGNED NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (skill_id) REFERENCES skills(id) ON DELETE CASCADE,
    FOREIGN KEY (model_id) REFERENCES ai_models(id) ON DELETE CASCADE,
    
    INDEX idx_skill_id (skill_id),
    INDEX idx_model_id (model_id)
);
```

### 4. ç”¨æˆ·AIç”»åƒæ¨¡å—

#### 4.1 åˆ›å»ºuser_ai_profilesè¡¨
```sql
CREATE TABLE user_ai_profiles (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    profile_type ENUM('basic', 'career', 'skills', 'preferences', 'comprehensive') NOT NULL,
    profile_data JSON NOT NULL,
    confidence_score DECIMAL(5,4),
    generated_by_model_id BIGINT UNSIGNED,
    generated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    expires_at TIMESTAMP,
    is_valid TINYINT(1) DEFAULT 1,
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (generated_by_model_id) REFERENCES ai_models(id) ON DELETE SET NULL,
    
    INDEX idx_user_id (user_id),
    INDEX idx_profile_type (profile_type),
    INDEX idx_generated_at (generated_at),
    INDEX idx_is_valid (is_valid)
);
```

#### 4.2 åˆ›å»ºuser_embeddingsè¡¨
```sql
CREATE TABLE user_embeddings (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    embedding_type ENUM('resume', 'skills', 'experience', 'preferences', 'overall') NOT NULL,
    embedding_vector JSON NOT NULL,
    model_id BIGINT UNSIGNED NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (model_id) REFERENCES ai_models(id) ON DELETE CASCADE,
    
    INDEX idx_user_id (user_id),
    INDEX idx_embedding_type (embedding_type),
    INDEX idx_model_id (model_id)
);
```

### 5. æ™ºèƒ½åŒ¹é…å’ŒæŽ¨èæ¨¡å—

#### 5.1 åˆ›å»ºjob_recommendationsè¡¨
```sql
CREATE TABLE job_recommendations (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    job_id INT NOT NULL,
    recommendation_score DECIMAL(5,4) NOT NULL,
    recommendation_reasons JSON,
    match_factors JSON,
    generated_by_model_id BIGINT UNSIGNED,
    generated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    expires_at TIMESTAMP,
    is_active TINYINT(1) DEFAULT 1,
    user_interaction ENUM('viewed', 'applied', 'saved', 'dismissed') NULL,
    interaction_at TIMESTAMP NULL,
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    FOREIGN KEY (generated_by_model_id) REFERENCES ai_models(id) ON DELETE SET NULL,
    
    INDEX idx_user_id (user_id),
    INDEX idx_job_id (job_id),
    INDEX idx_recommendation_score (recommendation_score),
    INDEX idx_generated_at (generated_at),
    INDEX idx_is_active (is_active)
);
```

#### 5.2 åˆ›å»ºcompany_recommendationsè¡¨
```sql
CREATE TABLE company_recommendations (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    company_id BIGINT UNSIGNED NOT NULL,
    recommendation_score DECIMAL(5,4) NOT NULL,
    recommendation_reasons JSON,
    match_factors JSON,
    generated_by_model_id BIGINT UNSIGNED,
    generated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    expires_at TIMESTAMP,
    is_active TINYINT(1) DEFAULT 1,
    user_interaction ENUM('viewed', 'followed', 'applied', 'dismissed') NULL,
    interaction_at TIMESTAMP NULL,
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (company_id) REFERENCES companies(id) ON DELETE CASCADE,
    FOREIGN KEY (generated_by_model_id) REFERENCES ai_models(id) ON DELETE SET NULL,
    
    INDEX idx_user_id (user_id),
    INDEX idx_company_id (company_id),
    INDEX idx_recommendation_score (recommendation_score),
    INDEX idx_generated_at (generated_at),
    INDEX idx_is_active (is_active)
);
```

#### 5.3 åˆ›å»ºskill_gap_analysisè¡¨
```sql
CREATE TABLE skill_gap_analysis (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    target_job_id INT,
    target_company_id BIGINT UNSIGNED,
    analysis_type ENUM('job_specific', 'career_path', 'industry_wide') NOT NULL,
    gap_analysis JSON NOT NULL,
    learning_recommendations JSON,
    priority_score DECIMAL(5,4),
    generated_by_model_id BIGINT UNSIGNED,
    generated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    expires_at TIMESTAMP,
    is_valid TINYINT(1) DEFAULT 1,
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (target_job_id) REFERENCES jobs(id) ON DELETE SET NULL,
    FOREIGN KEY (target_company_id) REFERENCES companies(id) ON DELETE SET NULL,
    FOREIGN KEY (generated_by_model_id) REFERENCES ai_models(id) ON DELETE SET NULL,
    
    INDEX idx_user_id (user_id),
    INDEX idx_target_job_id (target_job_id),
    INDEX idx_target_company_id (target_company_id),
    INDEX idx_analysis_type (analysis_type),
    INDEX idx_generated_at (generated_at),
    INDEX idx_is_valid (is_valid)
);
```

### 6. AIå¯¹è¯å’Œäº¤äº’æ¨¡å—

#### 6.1 åˆ›å»ºai_conversationsè¡¨
```sql
CREATE TABLE ai_conversations (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    conversation_type ENUM('career_advice', 'resume_review', 'interview_prep', 'skill_analysis', 'general') NOT NULL,
    session_id VARCHAR(100) NOT NULL,
    context_data JSON,
    model_id BIGINT UNSIGNED NOT NULL,
    started_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_activity_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    is_active TINYINT(1) DEFAULT 1,
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (model_id) REFERENCES ai_models(id) ON DELETE CASCADE,
    
    INDEX idx_user_id (user_id),
    INDEX idx_conversation_type (conversation_type),
    INDEX idx_session_id (session_id),
    INDEX idx_model_id (model_id),
    INDEX idx_is_active (is_active)
);
```

#### 6.2 åˆ›å»ºai_messagesè¡¨
```sql
CREATE TABLE ai_messages (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    conversation_id BIGINT UNSIGNED NOT NULL,
    message_type ENUM('user', 'assistant', 'system') NOT NULL,
    content TEXT NOT NULL,
    metadata JSON,
    tokens_used INT,
    processing_time_ms INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (conversation_id) REFERENCES ai_conversations(id) ON DELETE CASCADE,
    
    INDEX idx_conversation_id (conversation_id),
    INDEX idx_message_type (message_type),
    INDEX idx_created_at (created_at)
);
```

#### 6.3 åˆ›å»ºai_feedbackè¡¨
```sql
CREATE TABLE ai_feedback (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    user_id BIGINT UNSIGNED NOT NULL,
    feedback_type ENUM('recommendation', 'conversation', 'analysis', 'general') NOT NULL,
    target_id BIGINT UNSIGNED,
    target_type ENUM('job', 'company', 'conversation', 'analysis') NOT NULL,
    rating TINYINT(1) NOT NULL CHECK (rating >= 1 AND rating <= 5),
    feedback_text TEXT,
    improvement_suggestions TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    
    INDEX idx_user_id (user_id),
    INDEX idx_feedback_type (feedback_type),
    INDEX idx_target_id (target_id),
    INDEX idx_target_type (target_type),
    INDEX idx_rating (rating),
    INDEX idx_created_at (created_at)
);
```

### 7. AIæœåŠ¡ç›‘æŽ§å’Œæ—¥å¿—æ¨¡å—

#### 7.1 åˆ›å»ºai_service_logsè¡¨
```sql
CREATE TABLE ai_service_logs (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    service_name VARCHAR(100) NOT NULL,
    operation_type ENUM('embedding', 'generation', 'classification', 'recommendation', 'analysis') NOT NULL,
    model_id BIGINT UNSIGNED,
    user_id BIGINT UNSIGNED,
    input_tokens INT,
    output_tokens INT,
    processing_time_ms INT,
    cost_usd DECIMAL(10,6),
    success TINYINT(1) NOT NULL,
    error_message TEXT,
    request_id VARCHAR(100),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (model_id) REFERENCES ai_models(id) ON DELETE SET NULL,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL,
    
    INDEX idx_service_name (service_name),
    INDEX idx_operation_type (operation_type),
    INDEX idx_model_id (model_id),
    INDEX idx_user_id (user_id),
    INDEX idx_success (success),
    INDEX idx_created_at (created_at)
);
```

#### 7.2 åˆ›å»ºai_performance_metricsè¡¨
```sql
CREATE TABLE ai_performance_metrics (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    model_id BIGINT UNSIGNED NOT NULL,
    metric_type ENUM('accuracy', 'latency', 'throughput', 'cost', 'user_satisfaction') NOT NULL,
    metric_value DECIMAL(10,6) NOT NULL,
    measurement_period_start TIMESTAMP NOT NULL,
    measurement_period_end TIMESTAMP NOT NULL,
    sample_size INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (model_id) REFERENCES ai_models(id) ON DELETE CASCADE,
    
    INDEX idx_model_id (model_id),
    INDEX idx_metric_type (metric_type),
    INDEX idx_measurement_period_start (measurement_period_start)
);
```

### 8. æ•°æ®ç¼“å­˜å’Œä¼˜åŒ–æ¨¡å—

#### 8.1 åˆ›å»ºai_cacheè¡¨
```sql
CREATE TABLE ai_cache (
    id BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    cache_key VARCHAR(255) NOT NULL UNIQUE,
    cache_type ENUM('embedding', 'analysis', 'recommendation', 'profile') NOT NULL,
    cache_data JSON NOT NULL,
    expires_at TIMESTAMP NOT NULL,
    hit_count INT DEFAULT 0,
    last_accessed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_cache_key (cache_key),
    INDEX idx_cache_type (cache_type),
    INDEX idx_expires_at (expires_at),
    INDEX idx_last_accessed_at (last_accessed_at)
);
```

## ðŸ” PostgreSQLæƒé™ç®¡ç†å®žæ–½

### æƒé™åˆ†çº§ç®¡ç†ç­–ç•¥

#### 1. è§’è‰²å®šä¹‰
- **szjason72**: ç³»ç»Ÿè¶…çº§ç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™ï¼ŒåŒ…æ‹¬BYPASS RLS
- **jobfirst_team**: é¡¹ç›®å›¢é˜Ÿæˆå‘˜ï¼Œæ‹¥æœ‰æ•°æ®åº“è¿žæŽ¥å’Œè¡¨æ“ä½œæƒé™ï¼Œå¯ç»•è¿‡RLS
- **æ™®é€šç”¨æˆ·**: åªèƒ½è®¿é—®è‡ªå·±çš„å‘é‡æ•°æ®ï¼Œé€šè¿‡RLSç­–ç•¥é™åˆ¶

#### 2. è¡Œçº§å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰
```sql
-- å¯ç”¨RLSçš„è¡¨
ALTER TABLE resume_vectors ENABLE ROW LEVEL SECURITY;
ALTER TABLE user_embeddings ENABLE ROW LEVEL SECURITY;
ALTER TABLE user_ai_profiles ENABLE ROW LEVEL SECURITY;

-- ç”¨æˆ·æ•°æ®è®¿é—®ç­–ç•¥
CREATE POLICY user_embeddings_policy ON user_embeddings
    FOR ALL TO PUBLIC
    USING (user_id = current_setting('app.current_user_id', true)::bigint);

CREATE POLICY user_ai_profiles_policy ON user_ai_profiles
    FOR ALL TO PUBLIC
    USING (user_id = current_setting('app.current_user_id', true)::bigint);
```

#### 3. AIæœåŠ¡æƒé™æŽ§åˆ¶
```go
// AIæœåŠ¡ä¸­çš„æƒé™ç®¡ç†
func (ai *AIService) GetUserEmbeddings(ctx context.Context, userID uint) ([]UserEmbedding, error) {
    // è®¾ç½®ç”¨æˆ·ä¼šè¯å˜é‡
    if err := ai.db.Exec("SET app.current_user_id = ?", userID).Error; err != nil {
        return nil, err
    }
    
    // æŸ¥è¯¢ç”¨æˆ·ä¸“å±žæ•°æ®ï¼ˆè‡ªåŠ¨åº”ç”¨RLSç­–ç•¥ï¼‰
    var embeddings []UserEmbedding
    err := ai.db.Find(&embeddings).Error
    return embeddings, err
}
```

## ðŸš€ å®žæ–½è®¡åˆ’

### é˜¶æ®µä¸€ï¼šåŸºç¡€AIæœåŠ¡æž¶æž„ (2-3å‘¨)
1. **åˆ›å»ºæ ¸å¿ƒAIè¡¨ç»“æž„**
   - ai_modelsè¡¨
   - model_versionsè¡¨
   - ai_service_logsè¡¨

2. **é›†æˆçŽ°æœ‰æ•°æ®åº“**
   - ä¸ºçŽ°æœ‰è¡¨æ·»åŠ AIç›¸å…³å­—æ®µ
   - å»ºç«‹å¤–é”®å…³è”

3. **åŸºç¡€AIæœåŠ¡å¼€å‘**
   - æ¨¡åž‹ç®¡ç†æœåŠ¡
   - åŸºç¡€åµŒå…¥æœåŠ¡
   - æ—¥å¿—ç›‘æŽ§æœåŠ¡

### é˜¶æ®µäºŒï¼šä¼ä¸šAIåˆ†æžæœåŠ¡ (2-3å‘¨)
1. **ä¼ä¸šåˆ†æžåŠŸèƒ½**
   - ä¼ä¸šç”»åƒç”Ÿæˆ
   - è¡Œä¸šåˆ†æž
   - ä¼ä¸šåµŒå…¥å‘é‡

2. **æ•°æ®é›†æˆ**
   - ä¼ä¸šæ•°æ®é¢„å¤„ç†
   - AIåˆ†æžç»“æžœå­˜å‚¨
   - ç¼“å­˜æœºåˆ¶å®žçŽ°

### é˜¶æ®µä¸‰ï¼šèŒä½AIåŒ¹é…æœåŠ¡ (2-3å‘¨)
1. **èŒä½åˆ†æžåŠŸèƒ½**
   - èŒä½æè¿°å¢žå¼º
   - æŠ€èƒ½æå–
   - è–ªèµ„é¢„æµ‹

2. **æ™ºèƒ½åŒ¹é…ç®—æ³•**
   - ç”¨æˆ·-èŒä½åŒ¹é…
   - æŠ€èƒ½åŒ¹é…åˆ†æž
   - æŽ¨èç³»ç»Ÿ

### é˜¶æ®µå››ï¼šç”¨æˆ·AIç”»åƒæœåŠ¡ (2-3å‘¨)
1. **ç”¨æˆ·ç”»åƒæž„å»º**
   - ç®€åŽ†åˆ†æž
   - æŠ€èƒ½è¯„ä¼°
   - èŒä¸šå‘å±•å»ºè®®

2. **ä¸ªæ€§åŒ–æŽ¨è**
   - èŒä½æŽ¨è
   - ä¼ä¸šæŽ¨è
   - å­¦ä¹ å»ºè®®

### é˜¶æ®µäº”ï¼šAIå¯¹è¯æœåŠ¡ (2-3å‘¨)
1. **å¯¹è¯ç³»ç»Ÿ**
   - æ™ºèƒ½é—®ç­”
   - èŒä¸šå’¨è¯¢
   - ç®€åŽ†ä¼˜åŒ–å»ºè®®

2. **åé¦ˆç³»ç»Ÿ**
   - ç”¨æˆ·åé¦ˆæ”¶é›†
   - æ¨¡åž‹æ€§èƒ½ç›‘æŽ§
   - æŒç»­ä¼˜åŒ–

## ðŸ”§ æŠ€æœ¯å®žæ–½å»ºè®®

### 1. æ¨¡åž‹ç®¡ç†ç­–ç•¥
- **ç‰ˆæœ¬æŽ§åˆ¶**: å®Œæ•´çš„æ¨¡åž‹ç‰ˆæœ¬ç®¡ç†
- **A/Bæµ‹è¯•**: æ”¯æŒæ¨¡åž‹A/Bæµ‹è¯•
- **æ€§èƒ½ç›‘æŽ§**: å®žæ—¶ç›‘æŽ§æ¨¡åž‹æ€§èƒ½
- **æˆæœ¬æŽ§åˆ¶**: è·Ÿè¸ªAIæœåŠ¡æˆæœ¬

### 2. æ•°æ®å­˜å‚¨ä¼˜åŒ–
- **å‘é‡æ•°æ®åº“**: è€ƒè™‘ä½¿ç”¨ä¸“é—¨çš„å‘é‡æ•°æ®åº“å­˜å‚¨åµŒå…¥
- **ç¼“å­˜ç­–ç•¥**: å®žçŽ°å¤šå±‚ç¼“å­˜æœºåˆ¶
- **æ•°æ®åˆ†åŒº**: å¯¹å¤§æ•°æ®é‡è¡¨å®žæ–½åˆ†åŒº
- **ç´¢å¼•ä¼˜åŒ–**: ä¸ºAIæŸ¥è¯¢ä¼˜åŒ–ç´¢å¼•

### 3. æ€§èƒ½ä¼˜åŒ–
- **å¼‚æ­¥å¤„ç†**: å¯¹è€—æ—¶AIæ“ä½œå®žæ–½å¼‚æ­¥å¤„ç†
- **æ‰¹é‡å¤„ç†**: æ‰¹é‡å¤„ç†ç›¸ä¼¼è¯·æ±‚
- **è´Ÿè½½å‡è¡¡**: AIæœåŠ¡è´Ÿè½½å‡è¡¡
- **èµ„æºç›‘æŽ§**: å®žæ—¶ç›‘æŽ§AIæœåŠ¡èµ„æºä½¿ç”¨

### 4. å®‰å…¨è€ƒè™‘
- **æ•°æ®éšç§**: ä¿æŠ¤ç”¨æˆ·æ•æ„Ÿæ•°æ®
- **æ¨¡åž‹å®‰å…¨**: é˜²æ­¢æ¨¡åž‹æ”»å‡»
- **è®¿é—®æŽ§åˆ¶**: AIæœåŠ¡è®¿é—®æƒé™æŽ§åˆ¶
- **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„AIæ“ä½œå®¡è®¡

## ðŸ“Š é¢„æœŸæ”¶ç›Š

### 1. åŠŸèƒ½æå‡
- **æ™ºèƒ½ä¼ä¸šåˆ†æž**: åŸºäºŽAIçš„ä¼ä¸šæ·±åº¦åˆ†æž
- **ç²¾å‡†èŒä½åŒ¹é…**: é«˜ç²¾åº¦çš„èŒä½æŽ¨è
- **ä¸ªæ€§åŒ–æœåŠ¡**: åŸºäºŽç”¨æˆ·ç”»åƒçš„ä¸ªæ€§åŒ–ä½“éªŒ
- **æ™ºèƒ½å¯¹è¯**: 24/7çš„AIèŒä¸šå’¨è¯¢æœåŠ¡

### 2. æŠ€æœ¯æå‡
- **å¯æ‰©å±•æ€§**: æ”¯æŒå¤šç§AIæ¨¡åž‹å’Œç®—æ³•
- **æ€§èƒ½ä¼˜åŒ–**: é«˜æ•ˆçš„AIæœåŠ¡æž¶æž„
- **ç›‘æŽ§èƒ½åŠ›**: å®Œæ•´çš„AIæœåŠ¡ç›‘æŽ§ä½“ç³»
- **æˆæœ¬æŽ§åˆ¶**: ç²¾ç¡®çš„AIæœåŠ¡æˆæœ¬ç®¡ç†

### 3. ç”¨æˆ·ä½“éªŒæå‡
- **æ™ºèƒ½æŽ¨è**: æ›´ç²¾å‡†çš„èŒä½å’Œä¼ä¸šæŽ¨è
- **èŒä¸šæŒ‡å¯¼**: AIé©±åŠ¨çš„èŒä¸šå‘å±•å»ºè®®
- **å®žæ—¶åé¦ˆ**: å³æ—¶çš„ç®€åŽ†å’ŒæŠ€èƒ½åˆ†æž
- **ä¸ªæ€§åŒ–å­¦ä¹ **: åŸºäºŽæŠ€èƒ½å·®è·çš„å­¦ä¹ å»ºè®®

## ðŸŽ¯ æ€»ç»“

æœ¬AIæœåŠ¡æ•°æ®åº“å‡çº§æ–¹æ¡ˆä¸ºJobFirsté¡¹ç›®æä¾›äº†å®Œæ•´çš„AIæœåŠ¡æž¶æž„ï¼Œæ”¯æŒï¼š

1. **ä¼ä¸šæ™ºèƒ½åˆ†æž**: æ·±åº¦ä¼ä¸šç”»åƒå’Œè¡Œä¸šåˆ†æž
2. **èŒä½æ™ºèƒ½åŒ¹é…**: ç²¾å‡†çš„èŒä½æŽ¨èå’ŒåŒ¹é…
3. **ç”¨æˆ·AIç”»åƒ**: å…¨é¢çš„ç”¨æˆ·ç”»åƒå’Œä¸ªæ€§åŒ–æœåŠ¡
4. **æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ**: 24/7çš„AIèŒä¸šå’¨è¯¢æœåŠ¡
5. **å®Œæ•´çš„ç›‘æŽ§ä½“ç³»**: æ€§èƒ½ç›‘æŽ§å’Œæˆæœ¬æŽ§åˆ¶

é€šè¿‡å®žæ–½æœ¬æ–¹æ¡ˆï¼ŒJobFirstå°†ä»Žä¼ ç»Ÿçš„äººæ‰æ‹›è˜å¹³å°å‡çº§ä¸ºAIé©±åŠ¨çš„äººæ‰ç®¡ç†å¹³å°ï¼Œä¸ºç”¨æˆ·æä¾›æ›´æ™ºèƒ½ã€æ›´ä¸ªæ€§åŒ–çš„èŒä¸šå‘å±•æœåŠ¡ã€‚

---

**è®¾è®¡å®Œæˆæ—¶é—´**: 2025å¹´1æœˆ6æ—¥ 11:00  
**è®¾è®¡çŠ¶æ€**: å®Œæˆ  
**ä¸‹ä¸€æ­¥**: å¼€å§‹å®žæ–½AIæœåŠ¡æ•°æ®åº“å‡çº§
