# ğŸ¯ ä¸‹ä¸€é˜¶æ®µè¡ŒåŠ¨è®¡åˆ’ï¼šç³»ç»Ÿé›†æˆæµ‹è¯•ä¸ç”Ÿäº§å‡†å¤‡

**åˆ›å»ºæ—¥æœŸ**: 2025å¹´9æœˆ15æ—¥  
**æœ€åæ›´æ–°**: 2025å¹´9æœˆ15æ—¥  
**åŸºäºé‡Œç¨‹ç¢‘**: æ™ºèƒ½å¾®æœåŠ¡ç”Ÿæ€ç³»ç»Ÿæ„å»ºå®Œæˆ + CompanyæœåŠ¡PDFè§£æåŠŸèƒ½å®ç°  
**è®¡åˆ’å‘¨æœŸ**: 1-2å‘¨  
**å½“å‰çŠ¶æ€**: ğŸ“‹ è¡ŒåŠ¨è®¡åˆ’åˆ¶å®šå®Œæˆï¼Œå‡†å¤‡æ‰§è¡Œ

---

## ğŸ“‹ è¡ŒåŠ¨è®¡åˆ’æ¦‚è§ˆ

åŸºäºä»Šå¤©å®Œæˆçš„æ™ºèƒ½å¾®æœåŠ¡ç”Ÿæ€ç³»ç»Ÿæ„å»ºå’ŒCompanyæœåŠ¡PDFæ–‡æ¡£è§£æåŠŸèƒ½å®ç°ï¼Œæˆ‘ä»¬åˆ¶å®šäº†è¯¦ç»†çš„ä¸‹ä¸€é˜¶æ®µè¡ŒåŠ¨è®¡åˆ’ï¼Œç›®æ ‡æ˜¯å®ç°**ç³»ç»Ÿé›†æˆæµ‹è¯•**å’Œ**ç”Ÿäº§ç¯å¢ƒå‡†å¤‡**ã€‚

### ğŸ‰ æœ€æ–°å®Œæˆçš„åŠŸèƒ½
- âœ… **CompanyæœåŠ¡PDFæ–‡æ¡£è§£æåŠŸèƒ½**: å®Œæ•´å®ç°MinerUé›†æˆã€æ™ºèƒ½è§£æã€ç»“æ„åŒ–æ•°æ®å­˜å‚¨
- âœ… **æ™ºèƒ½å¯åŠ¨è„šæœ¬**: `smart-startup.sh` æ”¯æŒ17ä¸ªæœåŠ¡çš„æ™ºèƒ½å¯åŠ¨
- âœ… **ç³»ç»Ÿé›†æˆæµ‹è¯•è„šæœ¬**: `integration-test.sh` å®Œæ•´çš„æœåŠ¡å¥åº·æ£€æŸ¥å’Œé€šä¿¡æµ‹è¯•
- âœ… **å‰ç«¯Taroé¡¹ç›®**: å®Œæ•´çš„è·¨å¹³å°å‰ç«¯åº”ç”¨ï¼Œæ”¯æŒH5å’Œå¾®ä¿¡å°ç¨‹åº

### ğŸ“Š å½“å‰å®ç°çŠ¶æ€æ€»ç»“

#### å·²å®Œæˆçš„æ ¸å¿ƒåŠŸèƒ½
| åŠŸèƒ½æ¨¡å— | å®ç°çŠ¶æ€ | è¯´æ˜ |
|---------|---------|------|
| æ™ºèƒ½å¯åŠ¨è„šæœ¬ | âœ… å®Œæˆ | æ”¯æŒ17ä¸ªæœåŠ¡çš„æ™ºèƒ½å¯åŠ¨å’Œå¥åº·æ£€æŸ¥ |
| ç³»ç»Ÿé›†æˆæµ‹è¯• | âœ… å®Œæˆ | å®Œæ•´çš„æœåŠ¡å¥åº·æ£€æŸ¥å’Œé€šä¿¡æµ‹è¯• |
| CompanyæœåŠ¡PDFè§£æ | âœ… å®Œæˆ | MinerUé›†æˆã€æ™ºèƒ½è§£æã€ç»“æ„åŒ–å­˜å‚¨ |
| å‰ç«¯Taroé¡¹ç›® | âœ… å®Œæˆ | è·¨å¹³å°å‰ç«¯åº”ç”¨ï¼Œæ”¯æŒH5å’Œå¾®ä¿¡å°ç¨‹åº |
| å¾®æœåŠ¡æ¶æ„ | âœ… å®Œæˆ | 17ä¸ªå¾®æœåŠ¡å®Œæ•´å®ç° |
| ç»Ÿä¸€è®¤è¯ç³»ç»Ÿ | âœ… å®Œæˆ | JWTè®¤è¯å’Œæƒé™æ§åˆ¶ |
| AIæœåŠ¡é›†ç¾¤ | âœ… å®Œæˆ | æœ¬åœ°åŒ–å’Œå®¹å™¨åŒ–AIæœåŠ¡ |

#### å¾…å®Œæˆçš„åŠŸèƒ½
| åŠŸèƒ½æ¨¡å— | ä¼˜å…ˆçº§ | é¢„è®¡æ—¶é—´ |
|---------|--------|----------|
| ç³»ç»Ÿé›†æˆæµ‹è¯•æ‰§è¡Œ | é«˜ | 1-2å¤© |
| nginxç»Ÿä¸€å…¥å£é…ç½® | ä¸­ | 1å¤© |
| å‰ç«¯ä¸åç«¯é›†æˆæµ‹è¯• | é«˜ | 1å¤© |
| ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹æµ‹è¯• | é«˜ | 1å¤© |
| æ€§èƒ½ä¼˜åŒ– | ä¸­ | 2-3å¤© |
| ç›‘æ§å’Œæ—¥å¿—ä½“ç³» | ä¸­ | 2-3å¤© |
| å®‰å…¨åŠ å›º | ä¸­ | 1-2å¤© |
| å®¹å™¨åŒ–éƒ¨ç½² | ä½ | 3-5å¤© |
| CI/CDæµæ°´çº¿ | ä½ | 2-3å¤© |

### ğŸ—ï¸ å½“å‰æ¶æ„åˆ†æ

#### **å¼€å‘é˜¶æ®µæ¶æ„ï¼ˆå½“å‰ï¼‰**
```
å‰ç«¯ (frontend-taro) â†â†’ Basic-Server (8080) â†â†’ å¾®æœåŠ¡é›†ç¾¤
                                    â†“
                              17ä¸ªå¾®æœåŠ¡ + AIæœåŠ¡
```

**ç‰¹ç‚¹**:
- âœ… **Basic-Serverä½œä¸ºAPI Gateway**: æ‰¿æ‹…äº†nginxçš„éƒ¨åˆ†åŠŸèƒ½
- âœ… **å¾®æœåŠ¡ç›´æ¥æš´éœ²ç«¯å£**: æ¯ä¸ªæœåŠ¡ç‹¬ç«‹è¿è¡Œå’Œæµ‹è¯•
- âš ï¸ **å‰ç«¯frontend-taroæœªé›†æˆ**: éœ€è¦é›†æˆåˆ°å¾®æœåŠ¡é›†ç¾¤
- âš ï¸ **ç¼ºå°‘ç»Ÿä¸€å…¥å£**: ç”Ÿäº§ç¯å¢ƒéœ€è¦nginxä½œä¸ºç»Ÿä¸€å…¥å£

#### **ç”Ÿäº§é˜¶æ®µæ¶æ„ï¼ˆç›®æ ‡ï¼‰**
```
ç”¨æˆ·è¯·æ±‚ â†’ nginx (80/443) â†’ å‰ç«¯é™æ€æ–‡ä»¶ + APIä»£ç† â†’ å¾®æœåŠ¡é›†ç¾¤
                              â†“
                        è´Ÿè½½å‡è¡¡ + SSLç»ˆæ­¢
```

**ç‰¹ç‚¹**:
- âœ… **nginxç»Ÿä¸€å…¥å£**: å¤„ç†æ‰€æœ‰HTTP/HTTPSè¯·æ±‚
- âœ… **å‰ç«¯é™æ€æ–‡ä»¶æœåŠ¡**: ç›´æ¥æœåŠ¡å‰ç«¯èµ„æº
- âœ… **APIè·¯ç”±ä»£ç†**: æ™ºèƒ½è·¯ç”±åˆ°åç«¯æœåŠ¡
- âœ… **è´Ÿè½½å‡è¡¡**: åˆ†å‘è¯·æ±‚åˆ°å¤šä¸ªæœåŠ¡å®ä¾‹
- âœ… **SSLç»ˆæ­¢**: ç»Ÿä¸€å¤„ç†HTTPSè¯ä¹¦

### ğŸ¯ æ€»ä½“ç›®æ ‡
1. **éªŒè¯17ä¸ªæœåŠ¡çš„ååŒå·¥ä½œèƒ½åŠ›**
2. **é›†æˆfrontend-taroåˆ°å¾®æœåŠ¡é›†ç¾¤**
3. **é…ç½®nginxä½œä¸ºç”Ÿäº§ç¯å¢ƒç»Ÿä¸€å…¥å£**
4. **å»ºç«‹å®Œæ•´çš„ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹**
5. **è¾¾åˆ°ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ ‡å‡†**
6. **å»ºç«‹å®Œæ•´çš„ç›‘æ§å’Œè¿ç»´ä½“ç³»**

---

## ğŸš€ é˜¶æ®µä¸€ï¼šç³»ç»Ÿé›†æˆæµ‹è¯•ï¼ˆä¼˜å…ˆçº§ï¼šé«˜ï¼‰

### ğŸ“… æ—¶é—´å®‰æ’ï¼š1-2å¤©

#### 1.1 å®Œæ•´ç³»ç»Ÿå¯åŠ¨æµ‹è¯•
**ç›®æ ‡**: éªŒè¯æ‰€æœ‰17ä¸ªæœåŠ¡èƒ½å¤ŸååŒå¯åŠ¨

**å½“å‰æ¶æ„åˆ†æ**:
- âœ… **Basic-Serverä½œä¸ºAPI Gateway**: æ‰¿æ‹…äº†nginxçš„éƒ¨åˆ†åŠŸèƒ½
- âœ… **å¾®æœåŠ¡ç›´æ¥æš´éœ²ç«¯å£**: æ¯ä¸ªæœåŠ¡ç‹¬ç«‹è¿è¡Œå’Œæµ‹è¯•
- âœ… **æ™ºèƒ½å¯åŠ¨è„šæœ¬**: `smart-startup.sh` æ”¯æŒ17ä¸ªæœåŠ¡çš„æ™ºèƒ½å¯åŠ¨
- âœ… **å‰ç«¯frontend-taroå·²å°±ç»ª**: å®Œæ•´çš„è·¨å¹³å°å‰ç«¯åº”ç”¨
- âš ï¸ **ç¼ºå°‘ç»Ÿä¸€å…¥å£**: ç”Ÿäº§ç¯å¢ƒéœ€è¦nginxä½œä¸ºç»Ÿä¸€å…¥å£

**æ‰§è¡Œæ­¥éª¤**:
```bash
# 1. å¯åŠ¨å®Œæ•´ç³»ç»Ÿï¼ˆä½¿ç”¨æ™ºèƒ½å¯åŠ¨è„šæœ¬ï¼‰
cd /Users/szjason72/zervi-basic/basic/scripts/maintenance
./smart-startup.sh --mode standalone

# 2. è¿è¡Œç³»ç»Ÿé›†æˆæµ‹è¯•
./integration-test.sh

# 3. éªŒè¯æœåŠ¡çŠ¶æ€ï¼ˆæ™ºèƒ½è„šæœ¬å·²åŒ…å«ï¼‰
for port in 8080 8081 8082 8083 8084 8085 8086 8087 8088 8089 8206 8207 8208 8001 8002 9090; do
  echo "Port $port: $(curl -s http://localhost:$port/health 2>/dev/null | grep -o '"status":"[^"]*"' || echo 'æœªè¿è¡Œ')"
done

# 4. æ£€æŸ¥æœåŠ¡å‘ç°
curl -s http://localhost:8500/v1/agent/services | jq '.[] | {Service: .Service, Address: .Address, Port: .Port}'
```

**éªŒè¯æ ‡å‡†**:
- [x] æ™ºèƒ½å¯åŠ¨è„šæœ¬å·²å®ç°
- [x] ç³»ç»Ÿé›†æˆæµ‹è¯•è„šæœ¬å·²å®ç°
- [ ] æ‰€æœ‰17ä¸ªæœåŠ¡æˆåŠŸå¯åŠ¨
- [ ] æœåŠ¡å¥åº·æ£€æŸ¥å…¨éƒ¨é€šè¿‡
- [ ] æœåŠ¡å‘ç°å’Œæ³¨å†Œæ­£å¸¸
- [ ] æ— ç«¯å£å†²çªå’Œä¾èµ–é—®é¢˜

#### 1.2 æœåŠ¡é—´é€šä¿¡æµ‹è¯•
**ç›®æ ‡**: éªŒè¯æœåŠ¡é—´APIè°ƒç”¨å’Œé€šä¿¡

**æµ‹è¯•ç”¨ä¾‹**:
```bash
# Company â†” JobæœåŠ¡é€šä¿¡æµ‹è¯•
curl -X GET http://localhost:8083/api/v1/companies
curl -X GET http://localhost:8089/api/v1/jobs

# User â†” ResumeæœåŠ¡é›†æˆæµ‹è¯•
curl -X GET http://localhost:8081/api/v1/users
curl -X GET http://localhost:8082/api/v1/resumes

# AIæœåŠ¡ä¸å¾®æœåŠ¡é€šä¿¡æµ‹è¯•
curl -X POST http://localhost:8206/api/v1/ai/job-matching \
  -H "Content-Type: application/json" \
  -d '{"user_id": 1, "job_id": 1}'

# ç»Ÿä¸€è®¤è¯ç³»ç»Ÿé›†æˆæµ‹è¯•
curl -X POST http://localhost:8207/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "test", "password": "test"}'
```

**éªŒè¯æ ‡å‡†**:
- [ ] æ‰€æœ‰APIè°ƒç”¨è¿”å›æ­£ç¡®å“åº”
- [ ] æœåŠ¡é—´æ•°æ®ä¼ é€’æ­£å¸¸
- [ ] è®¤è¯å’Œæˆæƒæœºåˆ¶å·¥ä½œæ­£å¸¸
- [ ] é”™è¯¯å¤„ç†æœºåˆ¶æ­£å¸¸

#### 1.3 å‰ç«¯é›†æˆæµ‹è¯•
**ç›®æ ‡**: é›†æˆfrontend-taroåˆ°å¾®æœåŠ¡é›†ç¾¤

**å‰ç«¯é›†æˆæ­¥éª¤**:
```bash
# 1. æ£€æŸ¥å‰ç«¯é¡¹ç›®çŠ¶æ€
cd /Users/szjason72/zervi-basic/basic/frontend-taro
ls -la
npm list

# 2. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run dev:h5
# æˆ–
npm run dev:weapp

# 3. é…ç½®å‰ç«¯APIç«¯ç‚¹
# ä¿®æ”¹config/index.jsä¸­çš„API_BASE_URL
# æŒ‡å‘basic-server (localhost:8080)

# 4. æµ‹è¯•å‰ç«¯ä¸åç«¯é€šä¿¡
curl -X GET http://localhost:8080/api/v1/users
curl -X GET http://localhost:8080/api/v1/resumes

# 5. æµ‹è¯•CompanyæœåŠ¡PDFè§£æåŠŸèƒ½
curl -X POST http://localhost:8083/api/v1/company/documents/upload \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -F "file=@test_company_document.pdf" \
  -F "company_id=1" \
  -F "title=ä¼ä¸šä»‹ç»æ–‡æ¡£"
```

**éªŒè¯æ ‡å‡†**:
- [x] å‰ç«¯Taroé¡¹ç›®å·²å°±ç»ªï¼ˆå®Œæ•´çš„è·¨å¹³å°åº”ç”¨ï¼‰
- [x] å‰ç«¯é¡¹ç›®ç»“æ„å®Œæ•´ï¼ˆæ”¯æŒH5å’Œå¾®ä¿¡å°ç¨‹åºï¼‰
- [ ] å‰ç«¯é¡¹ç›®æˆåŠŸå¯åŠ¨
- [ ] å‰ç«¯ä¸åç«¯APIé€šä¿¡æ­£å¸¸
- [ ] ç”¨æˆ·ç•Œé¢æ­£å¸¸æ˜¾ç¤º
- [ ] è·¨åŸŸé—®é¢˜è§£å†³
- [ ] CompanyæœåŠ¡PDFè§£æåŠŸèƒ½é›†æˆæµ‹è¯•

#### 1.4 ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹æµ‹è¯•
**ç›®æ ‡**: éªŒè¯å®Œæ•´çš„ä¸šåŠ¡é—­ç¯ï¼ˆåŒ…å«å‰ç«¯ï¼‰

**ä¸šåŠ¡æµç¨‹æµ‹è¯•**:
```bash
# 1. ç”¨æˆ·æ³¨å†Œç™»å½•æµç¨‹
curl -X POST http://localhost:8081/api/v1/users/register \
  -H "Content-Type: application/json" \
  -d '{"username": "testuser", "email": "test@example.com", "password": "password123"}'

curl -X POST http://localhost:8207/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "testuser", "password": "password123"}'

# 2. ç®€å†ä¸Šä¼ å’ŒMinerUè§£æ
curl -X POST http://localhost:8082/api/v1/resumes/upload \
  -H "Authorization: Bearer <token>" \
  -F "file=@test_resume.pdf"

# 3. å…¬å¸å‘å¸ƒèŒä½æµç¨‹
curl -X POST http://localhost:8083/api/v1/companies \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"name": "Test Company", "industry": "Technology"}'

curl -X POST http://localhost:8089/api/v1/jobs \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"title": "Software Engineer", "company_id": 1, "description": "Great opportunity"}'

# 4. ç”¨æˆ·æŠ•é€’ç®€å†å’Œæ™ºèƒ½åŒ¹é…
curl -X POST http://localhost:8089/api/v1/jobs/1/apply \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"resume_id": 1, "cover_letter": "I am interested in this position"}'

# 5. CompanyæœåŠ¡PDFæ–‡æ¡£è§£ææµç¨‹ï¼ˆæ–°å¢ï¼‰
curl -X POST http://localhost:8083/api/v1/company/documents/upload \
  -H "Authorization: Bearer <token>" \
  -F "file=@company_document.pdf" \
  -F "company_id=1" \
  -F "title=ä¼ä¸šä»‹ç»æ–‡æ¡£"

curl -X POST http://localhost:8083/api/v1/company/documents/1/parse \
  -H "Authorization: Bearer <token>"

curl -X GET http://localhost:8083/api/v1/company/documents/1/parse/status \
  -H "Authorization: Bearer <token>"
```

**éªŒè¯æ ‡å‡†**:
- [ ] ç”¨æˆ·æ³¨å†Œç™»å½•æˆåŠŸï¼ˆå‰ç«¯+åç«¯ï¼‰
- [ ] ç®€å†ä¸Šä¼ å’Œè§£ææ­£å¸¸ï¼ˆå‰ç«¯+åç«¯ï¼‰
- [ ] å…¬å¸å‘å¸ƒèŒä½æˆåŠŸï¼ˆå‰ç«¯+åç«¯ï¼‰
- [ ] ç”¨æˆ·æŠ•é€’ç®€å†æˆåŠŸï¼ˆå‰ç«¯+åç«¯ï¼‰
- [ ] æ™ºèƒ½åŒ¹é…åŠŸèƒ½æ­£å¸¸ï¼ˆå‰ç«¯+åç«¯ï¼‰
- [ ] CompanyæœåŠ¡PDFæ–‡æ¡£è§£æåŠŸèƒ½æ­£å¸¸ï¼ˆå‰ç«¯+åç«¯ï¼‰
- [ ] å‰ç«¯ç•Œé¢ä¸åç«¯æ•°æ®åŒæ­¥æ­£å¸¸

---

## ğŸ­ é˜¶æ®µäºŒï¼šç”Ÿäº§ç¯å¢ƒå‡†å¤‡ï¼ˆä¼˜å…ˆçº§ï¼šä¸­ï¼‰

### ğŸ“… æ—¶é—´å®‰æ’ï¼š3-5å¤©

#### 2.1 nginxé…ç½®å’Œç»Ÿä¸€å…¥å£
**ç›®æ ‡**: é…ç½®nginxä½œä¸ºç”Ÿäº§ç¯å¢ƒçš„ç»Ÿä¸€å…¥å£

**nginxé…ç½®å†…å®¹**:
```nginx
# /etc/nginx/sites-available/jobfirst
upstream backend {
    server localhost:8080;  # Basic-Server API Gateway
    server localhost:8081;  # User Service
    server localhost:8082;  # Resume Service
    server localhost:8083;  # Company Service
    server localhost:8089;  # Job Service
}

upstream ai_services {
    server localhost:8206;  # Local AI Service
    server localhost:8208;  # Containerized AI Service
    server localhost:8001;  # MinerU Service
}

server {
    listen 80;
    server_name jobfirst.local;
    
    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /var/www/jobfirst/frontend-taro/dist;
        try_files $uri $uri/ /index.html;
        
        # é™æ€æ–‡ä»¶ç¼“å­˜
        location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
            expires 1y;
            add_header Cache-Control "public, immutable";
        }
    }
    
    # APIè·¯ç”±ä»£ç†åˆ°Basic-Server
    location /api/ {
        proxy_pass http://backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    
    # AIæœåŠ¡è·¯ç”±
    location /ai/ {
        proxy_pass http://ai_services;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    # å¥åº·æ£€æŸ¥
    location /health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }
}
```

**é…ç½®æ­¥éª¤**:
```bash
# 1. å®‰è£…nginx
brew install nginx

# 2. åˆ›å»ºé…ç½®æ–‡ä»¶
sudo cp nginx.conf /usr/local/etc/nginx/sites-available/jobfirst
sudo ln -s /usr/local/etc/nginx/sites-available/jobfirst /usr/local/etc/nginx/sites-enabled/

# 3. æ„å»ºå‰ç«¯é¡¹ç›®
cd /Users/szjason72/zervi-basic/basic/frontend-taro
npm run build:h5

# 4. éƒ¨ç½²å‰ç«¯æ–‡ä»¶
sudo mkdir -p /var/www/jobfirst/frontend-taro
sudo cp -r dist/* /var/www/jobfirst/frontend-taro/

# 5. å¯åŠ¨nginx
sudo nginx -t
sudo nginx -s reload
```

**éªŒè¯æ ‡å‡†**:
- [ ] nginxé…ç½®è¯­æ³•æ­£ç¡®
- [ ] å‰ç«¯é™æ€æ–‡ä»¶æ­£å¸¸è®¿é—®
- [ ] APIè·¯ç”±ä»£ç†æ­£å¸¸
- [ ] è´Ÿè½½å‡è¡¡å·¥ä½œæ­£å¸¸
- [ ] SSLè¯ä¹¦é…ç½®ï¼ˆå¯é€‰ï¼‰

#### 2.2 æ€§èƒ½ä¼˜åŒ–
**ç›®æ ‡**: æå‡ç³»ç»Ÿæ€§èƒ½å’Œå¹¶å‘å¤„ç†èƒ½åŠ›

**ä¼˜åŒ–å†…å®¹**:
- [ ] **æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–**
  ```go
  // ä¼˜åŒ–æ•°æ®åº“è¿æ¥æ± é…ç½®
  db.SetMaxOpenConns(100)
  db.SetMaxIdleConns(10)
  db.SetConnMaxLifetime(time.Hour)
  ```

- [ ] **æœåŠ¡å“åº”æ—¶é—´ä¼˜åŒ–**
  ```bash
  # æ€§èƒ½æµ‹è¯•
  ab -n 1000 -c 10 http://localhost:8080/health
  ab -n 1000 -c 10 http://localhost:8081/api/v1/users
  ```

- [ ] **å†…å­˜ä½¿ç”¨ä¼˜åŒ–**
  ```bash
  # å†…å­˜ç›‘æ§
  ps aux | grep -E "(user-service|resume-service|company-service)"
  ```

- [ ] **å¹¶å‘å¤„ç†èƒ½åŠ›æå‡**
  ```go
  // ä¼˜åŒ–Ginè·¯ç”±å’Œä¸­é—´ä»¶
  r.Use(gin.Recovery())
  r.Use(gin.Logger())
  r.Use(cors.Default())
  ```

#### 2.3 ç›‘æ§å’Œæ—¥å¿—
**ç›®æ ‡**: å»ºç«‹å®Œæ•´çš„ç›‘æ§å’Œæ—¥å¿—ä½“ç³»

**ç›‘æ§é…ç½®**:
- [ ] **Prometheusç›‘æ§é…ç½®**
  ```yaml
  # prometheus.yml
  global:
    scrape_interval: 15s
  scrape_configs:
    - job_name: 'jobfirst-services'
      static_configs:
        - targets: ['localhost:8080', 'localhost:8081', 'localhost:8082']
  ```

- [ ] **Grafanaä»ªè¡¨æ¿è®¾ç½®**
  ```bash
  # å¯åŠ¨Grafana
  docker run -d -p 3000:3000 grafana/grafana
  ```

- [ ] **å‘Šè­¦æœºåˆ¶è®¾ç½®**
  ```yaml
  # alertmanager.yml
  route:
    group_by: ['alertname']
    group_wait: 10s
    group_interval: 10s
    repeat_interval: 1h
    receiver: 'web.hook'
  ```

- [ ] **æ—¥å¿—èšåˆå’Œåˆ†æ**
  ```bash
  # ELK Stacké…ç½®
  docker-compose up -d elasticsearch kibana logstash
  ```

#### 2.4 å®‰å…¨åŠ å›º
**ç›®æ ‡**: æå‡ç³»ç»Ÿå®‰å…¨æ€§

**å®‰å…¨æªæ–½**:
- [ ] **APIå®‰å…¨éªŒè¯**
  ```go
  // JWTä¸­é—´ä»¶
  func JWTAuthMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
      token := c.GetHeader("Authorization")
      // éªŒè¯JWT token
    }
  }
  ```

- [ ] **æ•°æ®åŠ å¯†ä¼ è¾“**
  ```bash
  # SSLè¯ä¹¦é…ç½®
  openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes
  ```

- [ ] **è®¿é—®æ§åˆ¶ä¼˜åŒ–**
  ```go
  // RBACæƒé™æ§åˆ¶
  func CheckPermission(role string, resource string, action string) bool {
    // æƒé™æ£€æŸ¥é€»è¾‘
  }
  ```

- [ ] **å®‰å…¨å®¡è®¡æ—¥å¿—**
  ```go
  // å®¡è®¡æ—¥å¿—è®°å½•
  func AuditLog(userID int, action string, resource string) {
    log.Printf("User %d performed %s on %s", userID, action, resource)
  }
  ```

---

## ğŸš¢ é˜¶æ®µä¸‰ï¼šéƒ¨ç½²å’Œè¿ç»´ï¼ˆä¼˜å…ˆçº§ï¼šä¸­ï¼‰

### ğŸ“… æ—¶é—´å®‰æ’ï¼š1-2å‘¨

#### 3.1 å®¹å™¨åŒ–éƒ¨ç½²
**ç›®æ ‡**: å®ç°å®¹å™¨åŒ–éƒ¨ç½²å’Œç¼–æ’

**éƒ¨ç½²é…ç½®**:
- [ ] **Dockeré•œåƒä¼˜åŒ–**
  ```dockerfile
  # å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–
  FROM golang:1.25-alpine AS builder
  WORKDIR /app
  COPY . .
  RUN go build -o main .
  
  FROM alpine:latest
  RUN apk --no-cache add ca-certificates
  WORKDIR /root/
  COPY --from=builder /app/main .
  CMD ["./main"]
  ```

- [ ] **Kuberneteséƒ¨ç½²é…ç½®**
  ```yaml
  # deployment.yaml
  apiVersion: apps/v1
  kind: Deployment
  metadata:
    name: user-service
  spec:
    replicas: 3
    selector:
      matchLabels:
        app: user-service
    template:
      metadata:
        labels:
          app: user-service
      spec:
        containers:
        - name: user-service
          image: jobfirst/user-service:latest
          ports:
          - containerPort: 8081
  ```

- [ ] **æœåŠ¡ç¼–æ’ä¼˜åŒ–**
  ```yaml
  # docker-compose.yml
  version: '3.8'
  services:
    user-service:
      build: ./user-service
      ports:
        - "8081:8081"
      depends_on:
        - mysql
        - redis
    mysql:
      image: mysql:8.0
      environment:
        MYSQL_ROOT_PASSWORD: password
  ```

#### 3.2 CI/CDæµæ°´çº¿
**ç›®æ ‡**: å»ºç«‹å®Œæ•´çš„CI/CDæµæ°´çº¿

**æµæ°´çº¿é…ç½®**:
- [ ] **GitHub Actionsä¼˜åŒ–**
  ```yaml
  # .github/workflows/deploy.yml
  name: Deploy to Production
  on:
    push:
      branches: [main]
  jobs:
    deploy:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v2
        - name: Build and Deploy
          run: |
            docker build -t jobfirst/user-service .
            docker push jobfirst/user-service
  ```

- [ ] **è‡ªåŠ¨åŒ–æµ‹è¯•é›†æˆ**
  ```bash
  # æµ‹è¯•è„šæœ¬
  #!/bin/bash
  go test ./...
  npm test
  docker-compose -f docker-compose.test.yml up --abort-on-container-exit
  ```

- [ ] **éƒ¨ç½²æµç¨‹è‡ªåŠ¨åŒ–**
  ```bash
  # éƒ¨ç½²è„šæœ¬
  #!/bin/bash
  kubectl apply -f k8s/
  kubectl rollout status deployment/user-service
  ```

#### 3.3 è¿ç»´å·¥å…·é“¾
**ç›®æ ‡**: å»ºç«‹å®Œæ•´çš„è¿ç»´å·¥å…·é“¾

**å·¥å…·é“¾å†…å®¹**:
- [ ] **ç›‘æ§ä»ªè¡¨æ¿**
  ```bash
  # Grafanaä»ªè¡¨æ¿é…ç½®
  curl -X POST http://localhost:3000/api/dashboards/db \
    -H "Content-Type: application/json" \
    -d @dashboard.json
  ```

- [ ] **æ—¥å¿—åˆ†æå·¥å…·**
  ```bash
  # ELK Stackæ—¥å¿—åˆ†æ
  docker-compose up -d elasticsearch kibana logstash
  ```

- [ ] **æ€§èƒ½åˆ†æå·¥å…·**
  ```bash
  # APMå·¥å…·é›†æˆ
  docker run -d -p 8200:8200 elastic/apm-server
  ```

- [ ] **æ•…éšœè¯Šæ–­å·¥å…·**
  ```bash
  # å¥åº·æ£€æŸ¥è„šæœ¬
  #!/bin/bash
  for service in user-service resume-service company-service; do
    curl -f http://localhost:8081/health || echo "$service is down"
  done
  ```

---

## ğŸ“Š æ‰§è¡Œæ—¶é—´è¡¨

### ç¬¬1å¤©ï¼šç³»ç»Ÿé›†æˆæµ‹è¯•
- [x] æ™ºèƒ½å¯åŠ¨è„šæœ¬å·²å®ç°
- [x] ç³»ç»Ÿé›†æˆæµ‹è¯•è„šæœ¬å·²å®ç°
- [x] CompanyæœåŠ¡PDFè§£æåŠŸèƒ½å·²å®ç°
- [x] å‰ç«¯Taroé¡¹ç›®å·²å°±ç»ª
- [ ] å®Œæ•´ç³»ç»Ÿå¯åŠ¨æµ‹è¯•
- [ ] æœåŠ¡é—´é€šä¿¡æµ‹è¯•
- [ ] å‰ç«¯é›†æˆæµ‹è¯•
- [ ] ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹æµ‹è¯•

### ç¬¬2å¤©ï¼šnginxé…ç½®å’Œç»Ÿä¸€å…¥å£
- [ ] nginxå®‰è£…å’Œé…ç½®
- [ ] å‰ç«¯é¡¹ç›®æ„å»ºå’Œéƒ¨ç½²
- [ ] APIè·¯ç”±ä»£ç†é…ç½®
- [ ] è´Ÿè½½å‡è¡¡æµ‹è¯•

### ç¬¬3å¤©ï¼šæ€§èƒ½ä¼˜åŒ–
- [ ] æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–
- [ ] æœåŠ¡å“åº”æ—¶é—´ä¼˜åŒ–
- [ ] å†…å­˜ä½¿ç”¨ä¼˜åŒ–
- [ ] nginxæ€§èƒ½è°ƒä¼˜

### ç¬¬4å¤©ï¼šç›‘æ§å’Œæ—¥å¿—
- [ ] Prometheusç›‘æ§é…ç½®
- [ ] Grafanaä»ªè¡¨æ¿è®¾ç½®
- [ ] å‘Šè­¦æœºåˆ¶è®¾ç½®
- [ ] nginxæ—¥å¿—é…ç½®

### ç¬¬5å¤©ï¼šå®‰å…¨åŠ å›º
- [ ] APIå®‰å…¨éªŒè¯
- [ ] æ•°æ®åŠ å¯†ä¼ è¾“
- [ ] è®¿é—®æ§åˆ¶ä¼˜åŒ–
- [ ] nginxå®‰å…¨é…ç½®

### ç¬¬6å¤©ï¼šå®¹å™¨åŒ–éƒ¨ç½²
- [ ] Dockeré•œåƒä¼˜åŒ–
- [ ] Kuberneteséƒ¨ç½²é…ç½®
- [ ] æœåŠ¡ç¼–æ’ä¼˜åŒ–
- [ ] nginxå®¹å™¨åŒ–é…ç½®

### ç¬¬7-8å¤©ï¼šCI/CDæµæ°´çº¿
- [ ] GitHub Actionsä¼˜åŒ–
- [ ] è‡ªåŠ¨åŒ–æµ‹è¯•é›†æˆ
- [ ] éƒ¨ç½²æµç¨‹è‡ªåŠ¨åŒ–
- [ ] å‰ç«¯æ„å»ºè‡ªåŠ¨åŒ–

### ç¬¬9-14å¤©ï¼šè¿ç»´å·¥å…·é“¾
- [ ] ç›‘æ§ä»ªè¡¨æ¿
- [ ] æ—¥å¿—åˆ†æå·¥å…·
- [ ] æ€§èƒ½åˆ†æå·¥å…·
- [ ] æ•…éšœè¯Šæ–­å·¥å…·
- [ ] nginxç›‘æ§å’Œå‘Šè­¦

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

### ç³»ç»Ÿé›†æˆæµ‹è¯•æˆåŠŸæ ‡å‡†
- [x] æ™ºèƒ½å¯åŠ¨è„šæœ¬å·²å®ç°
- [x] ç³»ç»Ÿé›†æˆæµ‹è¯•è„šæœ¬å·²å®ç°
- [x] CompanyæœåŠ¡PDFè§£æåŠŸèƒ½å·²å®ç°
- [x] å‰ç«¯Taroé¡¹ç›®å·²å°±ç»ª
- [ ] æ‰€æœ‰17ä¸ªæœåŠ¡æˆåŠŸå¯åŠ¨
- [ ] æœåŠ¡å¥åº·æ£€æŸ¥å…¨éƒ¨é€šè¿‡
- [ ] æœåŠ¡é—´é€šä¿¡æ­£å¸¸
- [ ] å‰ç«¯frontend-taroæˆåŠŸé›†æˆ
- [ ] ç«¯åˆ°ç«¯ä¸šåŠ¡æµç¨‹å®Œæ•´ï¼ˆå‰ç«¯+åç«¯ï¼‰
- [ ] CompanyæœåŠ¡PDFè§£æåŠŸèƒ½é›†æˆæµ‹è¯•é€šè¿‡

### ç”Ÿäº§ç¯å¢ƒå‡†å¤‡æˆåŠŸæ ‡å‡†
- [ ] nginxç»Ÿä¸€å…¥å£é…ç½®å®Œæˆ
- [ ] å‰ç«¯é™æ€æ–‡ä»¶æ­£å¸¸æœåŠ¡
- [ ] APIè·¯ç”±ä»£ç†æ­£å¸¸å·¥ä½œ
- [ ] ç³»ç»Ÿæ€§èƒ½è¾¾åˆ°ç”Ÿäº§è¦æ±‚
- [ ] ç›‘æ§å’Œæ—¥å¿—ä½“ç³»å®Œæ•´
- [ ] å®‰å…¨æªæ–½åˆ°ä½
- [ ] å®¹å™¨åŒ–éƒ¨ç½²æˆåŠŸ

### è¿ç»´ä½“ç³»æˆåŠŸæ ‡å‡†
- [ ] CI/CDæµæ°´çº¿è‡ªåŠ¨åŒ–
- [ ] ç›‘æ§å‘Šè­¦æœºåˆ¶å®Œå–„
- [ ] æ•…éšœè¯Šæ–­å·¥å…·å¯ç”¨
- [ ] è¿ç»´æ–‡æ¡£å®Œæ•´

---

## ğŸš¨ é£é™©æ§åˆ¶

### æŠ€æœ¯é£é™©
- **æœåŠ¡å¯åŠ¨å¤±è´¥**: å‡†å¤‡å›æ»šæ–¹æ¡ˆ
- **æ€§èƒ½ä¸è¾¾æ ‡**: å‡†å¤‡ä¼˜åŒ–æ–¹æ¡ˆ
- **å®‰å…¨æ¼æ´**: å‡†å¤‡å®‰å…¨åŠ å›ºæ–¹æ¡ˆ

### æ—¶é—´é£é™©
- **è¿›åº¦å»¶è¿Ÿ**: å‡†å¤‡ä¼˜å…ˆçº§è°ƒæ•´æ–¹æ¡ˆ
- **èµ„æºä¸è¶³**: å‡†å¤‡èµ„æºè°ƒé…æ–¹æ¡ˆ

### è´¨é‡é£é™©
- **æµ‹è¯•ä¸å……åˆ†**: å‡†å¤‡è¡¥å……æµ‹è¯•æ–¹æ¡ˆ
- **æ–‡æ¡£ä¸å®Œæ•´**: å‡†å¤‡æ–‡æ¡£å®Œå–„æ–¹æ¡ˆ

---

## ğŸ“ æ€»ç»“

è¿™ä¸ªè¡ŒåŠ¨è®¡åˆ’åŸºäºä»Šå¤©å®Œæˆçš„æ™ºèƒ½å¾®æœåŠ¡ç”Ÿæ€ç³»ç»Ÿæ„å»ºå’ŒCompanyæœåŠ¡PDFæ–‡æ¡£è§£æåŠŸèƒ½å®ç°ï¼Œæ—¨åœ¨å®ç°ç³»ç»Ÿé›†æˆæµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒå‡†å¤‡ã€‚é€šè¿‡åˆ†é˜¶æ®µçš„æ‰§è¡Œï¼Œæˆ‘ä»¬å°†é€æ­¥å»ºç«‹å®Œæ•´çš„ç”Ÿäº§å°±ç»ªç³»ç»Ÿã€‚

**å…³é”®æˆåŠŸå› ç´ **:
1. **ç³»ç»Ÿé›†æˆæµ‹è¯•** - éªŒè¯17ä¸ªæœåŠ¡çš„ååŒå·¥ä½œèƒ½åŠ›
2. **å‰ç«¯é›†æˆ** - é›†æˆfrontend-taroåˆ°å¾®æœåŠ¡é›†ç¾¤
3. **CompanyæœåŠ¡PDFè§£æ** - éªŒè¯MinerUé›†æˆçš„æ–‡æ¡£è§£æåŠŸèƒ½
4. **nginxé…ç½®** - å»ºç«‹ç»Ÿä¸€å…¥å£å’Œè´Ÿè½½å‡è¡¡
5. **æ€§èƒ½ä¼˜åŒ–** - æå‡ç³»ç»Ÿæ€§èƒ½å’Œå¹¶å‘å¤„ç†èƒ½åŠ›
6. **ç›‘æ§ä½“ç³»** - å»ºç«‹å®Œæ•´çš„ç›‘æ§å’Œæ—¥å¿—ä½“ç³»
7. **å®‰å…¨åŠ å›º** - æå‡ç³»ç»Ÿå®‰å…¨æ€§
8. **è¿ç»´å·¥å…·** - å»ºç«‹å®Œæ•´çš„è¿ç»´å·¥å…·é“¾

**é¢„æœŸæˆæœ**:
- å®Œæ•´çš„ç”Ÿäº§å°±ç»ªç³»ç»Ÿï¼ˆå‰ç«¯+åç«¯ï¼‰
- CompanyæœåŠ¡PDFæ–‡æ¡£è§£æåŠŸèƒ½å®Œæ•´é›†æˆ
- nginxç»Ÿä¸€å…¥å£å’Œè´Ÿè½½å‡è¡¡
- è‡ªåŠ¨åŒ–CI/CDæµæ°´çº¿
- å®Œå–„çš„ç›‘æ§å’Œè¿ç»´ä½“ç³»
- é«˜è´¨é‡çš„æŠ€æœ¯æ–‡æ¡£

**å½“å‰è¿›åº¦**:
- âœ… æ™ºèƒ½å¯åŠ¨è„šæœ¬å·²å®ç°
- âœ… ç³»ç»Ÿé›†æˆæµ‹è¯•è„šæœ¬å·²å®ç°
- âœ… CompanyæœåŠ¡PDFè§£æåŠŸèƒ½å·²å®ç°
- âœ… å‰ç«¯Taroé¡¹ç›®å·²å°±ç»ª
- ğŸ”„ å‡†å¤‡æ‰§è¡Œç³»ç»Ÿé›†æˆæµ‹è¯•

è®©æˆ‘ä»¬æŒ‰ç…§è¿™ä¸ªè®¡åˆ’ï¼Œç»§ç»­åˆ›é€ æŠ€æœ¯å¥‡è¿¹ï¼ ğŸš€

---

**æ–‡æ¡£åˆ›å»ºè€…**: AI Assistant & Development Team  
**æœ€åæ›´æ–°**: 2025å¹´9æœˆ15æ—¥  
**çŠ¶æ€**: ğŸ“‹ è¡ŒåŠ¨è®¡åˆ’åˆ¶å®šå®Œæˆï¼Œå‡†å¤‡æ‰§è¡Œ  

---

*"A goal without a plan is just a wish."* - æ²¡æœ‰è®¡åˆ’çš„ç›®æ ‡åªæ˜¯æ„¿æœ›ã€‚
