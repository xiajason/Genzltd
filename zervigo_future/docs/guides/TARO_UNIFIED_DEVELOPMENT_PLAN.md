# JobFirst Taroç»Ÿä¸€å¼€å‘æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

åŸºäºå¯¹å½“å‰é¡¹ç›®ç»“æ„çš„åˆ†æï¼ŒJobFirsté¡¹ç›®åŒ…å«å¾®ä¿¡å°ç¨‹åºç«¯ï¼ˆåŸç”Ÿå¼€å‘ï¼‰å’ŒWebç«¯ï¼ˆNext.js + Reactï¼‰ï¼Œä¸¤è€…åŠŸèƒ½é‡å å¯¼è‡´ä»£ç é‡å¤å¼€å‘ã€åŠŸèƒ½åŒæ­¥å›°éš¾å’Œç»´æŠ¤æˆæœ¬é«˜ç­‰é—®é¢˜ã€‚

æœ¬æ–¹æ¡ˆé‡‡ç”¨Taroæ¡†æ¶å®ç°è·¨ç«¯ç»Ÿä¸€å¼€å‘ï¼Œä¸€å¥—ä»£ç åŒæ—¶æ”¯æŒå¾®ä¿¡å°ç¨‹åºå’ŒWebç«¯ï¼Œæ˜¾è‘—æå‡å¼€å‘æ•ˆç‡å’Œç»´æŠ¤æ€§ã€‚

## ğŸ¯ å½“å‰é¡¹ç›®åˆ†æ

### æŠ€æœ¯æ ˆå¯¹æ¯”

| é¡¹ç›® | å°ç¨‹åºç«¯ | Webç«¯ |
|------|----------|-------|
| **æ¡†æ¶** | å¾®ä¿¡å°ç¨‹åºåŸç”Ÿ | Next.js 14 + React 18 |
| **è¯­è¨€** | JavaScript ES6+ | TypeScript |
| **æ ·å¼** | WXSS | Tailwind CSS + CSS Modules |
| **çŠ¶æ€ç®¡ç†** | é¡µé¢çº§æ•°æ®ç»‘å®š | React Query + Zustand |
| **UIç»„ä»¶** | åŸç”Ÿç»„ä»¶ | Ant Design 5.x |
| **APIè°ƒç”¨** | wx.request | Axios |

### åŠŸèƒ½é‡å åˆ†æ

- âœ… **ç”¨æˆ·è®¤è¯**ï¼šç™»å½•ã€æ³¨å†Œã€ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… **ç®€å†ç®¡ç†**ï¼šåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€åˆ—è¡¨å±•ç¤º
- âœ… **èŒä½æœç´¢**ï¼šèŒä½åˆ—è¡¨ã€è¯¦æƒ…ã€ç”³è¯·
- âœ… **AIåŠ©æ‰‹**ï¼šèŠå¤©åŠŸèƒ½ã€ç®€å†åˆ†æ
- âœ… **æ•°æ®åˆ†æ**ï¼šç»Ÿè®¡å›¾è¡¨ã€ä¸ªäººæ•°æ®

### å¼€å‘æŒ‘æˆ˜

1. **ä»£ç é‡å¤**ï¼šç›¸åŒåŠŸèƒ½éœ€è¦ä¸¤å¥—ä»£ç å®ç°
2. **åŠŸèƒ½åŒæ­¥**ï¼šæ–°åŠŸèƒ½éœ€è¦åœ¨ä¸¤ä¸ªç«¯åˆ†åˆ«å¼€å‘
3. **ç»´æŠ¤æˆæœ¬**ï¼šBugä¿®å¤å’ŒåŠŸèƒ½æ›´æ–°éœ€è¦é‡å¤æ“ä½œ
4. **æµ‹è¯•å¤æ‚**ï¼šéœ€è¦åˆ†åˆ«æµ‹è¯•ä¸¤ä¸ªç«¯çš„å…¼å®¹æ€§

## ğŸš€ Taroç»Ÿä¸€å¼€å‘æ–¹æ¡ˆ

### 1. æŠ€æœ¯æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Taroç»Ÿä¸€å¼€å‘æ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Taro 4.x Framework                                        â”‚
â”‚  â”œâ”€â”€ React 18 + TypeScript                                â”‚
â”‚  â”œâ”€â”€ ç»Ÿä¸€ç»„ä»¶åº“ (Taro UI + è‡ªå®šä¹‰ç»„ä»¶)                     â”‚
â”‚  â”œâ”€â”€ ç»Ÿä¸€çŠ¶æ€ç®¡ç† (Zustand)                               â”‚
â”‚  â””â”€â”€ ç»Ÿä¸€APIæœåŠ¡å±‚                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¼–è¯‘è¾“å‡º                                                  â”‚
â”‚  â”œâ”€â”€ å¾®ä¿¡å°ç¨‹åº (--type weapp)                            â”‚
â”‚  â”œâ”€â”€ H5 Webç«¯ (--type h5)                                â”‚
â”‚  â””â”€â”€ å…¶ä»–å¹³å° (--type rn, --type swan)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åç«¯å¾®æœåŠ¡æ¶æ„ (ä¿æŒä¸å˜)                                 â”‚
â”‚  â”œâ”€â”€ User Service (Port 8001)                            â”‚
â”‚  â”œâ”€â”€ Resume Service (Port 8002)                          â”‚
â”‚  â”œâ”€â”€ AI Service (Port 8206)                              â”‚
â”‚  â””â”€â”€ API Gateway (Port 8080)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. é¡¹ç›®ç»“æ„è®¾è®¡

```
frontend/
â”œâ”€â”€ taro-unified/                    # Taroç»Ÿä¸€é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app.tsx                  # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ app.config.ts            # åº”ç”¨é…ç½®
â”‚   â”‚   â”œâ”€â”€ pages/                   # é¡µé¢ç›®å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ index/              # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ login/              # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ register/           # æ³¨å†Œé¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/            # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”‚   â”œâ”€â”€ resume/             # ç®€å†ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ jobs/               # èŒä½åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/               # AIåŠ©æ‰‹
â”‚   â”‚   â”‚   â””â”€â”€ analytics/          # æ•°æ®åˆ†æ
â”‚   â”‚   â”œâ”€â”€ components/             # å…±äº«ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ common/            # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ business/          # ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ui/                # UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/              # APIæœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts             # APIé…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts            # è®¤è¯æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts            # ç”¨æˆ·æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ resume.ts          # ç®€å†æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ job.ts             # èŒä½æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ ai.ts              # AIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stores/                # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts            # è®¤è¯çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts            # ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ resume.ts          # ç®€å†çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ job.ts             # èŒä½çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”‚   â”‚   â”œâ”€â”€ request.ts         # è¯·æ±‚å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ storage.ts         # å­˜å‚¨å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts            # è®¤è¯å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ common.ts          # é€šç”¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ types/                 # ç±»å‹å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts             # APIç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts            # ç”¨æˆ·ç±»å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ resume.ts          # ç®€å†ç±»å‹
â”‚   â”‚   â”‚   â””â”€â”€ job.ts             # èŒä½ç±»å‹
â”‚   â”‚   â””â”€â”€ styles/                # æ ·å¼æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ global.scss        # å…¨å±€æ ·å¼
â”‚   â”‚       â”œâ”€â”€ variables.scss     # å˜é‡å®šä¹‰
â”‚   â”‚       â””â”€â”€ mixins.scss        # æ··å…¥
â”‚   â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ index.ts               # ä¸»é…ç½®
â”‚   â”‚   â”œâ”€â”€ dev.ts                 # å¼€å‘é…ç½®
â”‚   â”‚   â””â”€â”€ prod.ts                # ç”Ÿäº§é…ç½®
â”‚   â”œâ”€â”€ package.json               # ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ tsconfig.json              # TypeScripté…ç½®
â”‚   â””â”€â”€ taro.config.ts             # Taroé…ç½®
â”œâ”€â”€ miniprogram/                   # åŸæœ‰å°ç¨‹åº (ä¿ç•™å¤‡ä»½)
â””â”€â”€ web/                          # åŸæœ‰Webç«¯ (ä¿ç•™å¤‡ä»½)
```

### 3. æ ¸å¿ƒç»„ä»¶è®¾è®¡

#### 3.1 ç»Ÿä¸€APIæœåŠ¡å±‚

```typescript
// src/api/request.ts
import Taro from '@tarojs/taro'

// APIåŸºç¡€é…ç½®
const API_BASE_URL = process.env.NODE_ENV === 'development' 
  ? 'http://localhost:8080' 
  : 'https://api.jobfirst.com'

// ç»Ÿä¸€å“åº”æ ¼å¼
interface ApiResponse<T = any> {
  code: number
  message: string
  data: T
  meta?: {
    pagination?: Pagination
    timestamp: number
    version: string
  }
}

// è¯·æ±‚é…ç½®æ¥å£
interface RequestOptions {
  url: string
  method?: 'GET' | 'POST' | 'PUT' | 'DELETE'
  data?: any
  header?: Record<string, string>
  timeout?: number
  showLoading?: boolean
  showError?: boolean
}

// ç»Ÿä¸€è¯·æ±‚å‡½æ•°
export async function request<T>(options: RequestOptions): Promise<T> {
  const { 
    url, 
    method = 'GET', 
    data, 
    header = {}, 
    timeout = 10000,
    showLoading = false,
    showError = true
  } = options
  
  // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
  if (showLoading) {
    Taro.showLoading({ title: 'åŠ è½½ä¸­...' })
  }
  
  // æ·»åŠ é€šç”¨header
  const commonHeader = {
    'Content-Type': 'application/json',
    'API-Version': 'v2',
    ...header
  }
  
  // æ·»åŠ token
  const token = Taro.getStorageSync('access_token')
  if (token) {
    commonHeader['Authorization'] = `Bearer ${token}`
  }
  
  try {
    const response = await Taro.request({
      url: `${API_BASE_URL}${url}`,
      method,
      data,
      header: commonHeader,
      timeout
    })
    
    // éšè—åŠ è½½çŠ¶æ€
    if (showLoading) {
      Taro.hideLoading()
    }
    
    // ç»Ÿä¸€å¤„ç†å“åº”
    if (response.statusCode === 200) {
      const result = response.data as ApiResponse<T>
      
      // æ£€æŸ¥ä¸šåŠ¡çŠ¶æ€ç 
      if (result.code === 200) {
        return result.data
      } else {
        throw new Error(result.message || 'è¯·æ±‚å¤±è´¥')
      }
    } else if (response.statusCode === 401) {
      // å¤„ç†æœªæˆæƒ
      handleUnauthorized()
      throw new Error('æœªæˆæƒï¼Œè¯·é‡æ–°ç™»å½•')
    } else if (response.statusCode === 403) {
      // å¤„ç†æƒé™ä¸è¶³
      throw new Error('æƒé™ä¸è¶³')
    } else if (response.statusCode >= 500) {
      // å¤„ç†æœåŠ¡å™¨é”™è¯¯
      throw new Error('æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•')
    } else {
      throw new Error(response.data?.message || 'è¯·æ±‚å¤±è´¥')
    }
  } catch (error) {
    // éšè—åŠ è½½çŠ¶æ€
    if (showLoading) {
      Taro.hideLoading()
    }
    
    // ç»Ÿä¸€é”™è¯¯å¤„ç†
    const errorMessage = error.message || 'ç½‘ç»œé”™è¯¯'
    
    if (showError) {
      Taro.showToast({
        title: errorMessage,
        icon: 'none',
        duration: 2000
      })
    }
    
    console.error('API request error:', error)
    throw error
  }
}

// å¤„ç†æœªæˆæƒæƒ…å†µ
function handleUnauthorized() {
  // æ¸…é™¤æœ¬åœ°å­˜å‚¨çš„è®¤è¯ä¿¡æ¯
  Taro.removeStorageSync('access_token')
  Taro.removeStorageSync('refresh_token')
  Taro.removeStorageSync('user_info')
  
  // è·³è½¬åˆ°ç™»å½•é¡µ
  Taro.reLaunch({
    url: '/pages/login/index'
  })
}

// ä¾¿æ·çš„è¯·æ±‚æ–¹æ³•
export const api = {
  get: <T>(url: string, params?: any, options?: Partial<RequestOptions>) =>
    request<T>({ url, method: 'GET', data: params, ...options }),
    
  post: <T>(url: string, data?: any, options?: Partial<RequestOptions>) =>
    request<T>({ url, method: 'POST', data, ...options }),
    
  put: <T>(url: string, data?: any, options?: Partial<RequestOptions>) =>
    request<T>({ url, method: 'PUT', data, ...options }),
    
  delete: <T>(url: string, data?: any, options?: Partial<RequestOptions>) =>
    request<T>({ url, method: 'DELETE', data, ...options })
}

// ä¸šåŠ¡APIæœåŠ¡
export class ApiService {
  // ç”¨æˆ·ç›¸å…³API
  static user = {
    login: (data: LoginRequest) => 
      api.post<LoginResponse>('/api/v2/auth/login', data),
      
    register: (data: RegisterRequest) => 
      api.post<RegisterResponse>('/api/v2/auth/register', data),
      
    getInfo: () => 
      api.get<UserInfo>('/api/v2/user/info'),
      
    updateInfo: (data: UpdateUserRequest) => 
      api.put<UserInfo>('/api/v2/user/update', data),
      
    changePassword: (data: ChangePasswordRequest) => 
      api.put('/api/v2/user/change-password', data)
  }
  
  // ç®€å†ç›¸å…³API
  static resume = {
    getList: (params?: ResumeListParams) => 
      api.get<ResumeListResponse>('/api/v1/resume/list', params),
      
    getDetail: (id: string) => 
      api.get<ResumeDetail>('/api/v1/resume/detail', { id }),
      
    create: (data: CreateResumeRequest) => 
      api.post<ResumeDetail>('/api/v1/resume/create', data),
      
    update: (id: string, data: UpdateResumeRequest) => 
      api.put<ResumeDetail>(`/api/v1/resume/update/${id}`, data),
      
    delete: (id: string) => 
      api.delete(`/api/v1/resume/delete/${id}`),
      
    upload: (file: File) => 
      api.post<UploadResponse>('/api/v1/resume/upload', file)
  }
  
  // èŒä½ç›¸å…³API
  static job = {
    getList: (params?: JobListParams) => 
      api.get<JobListResponse>('/api/v2/jobs', params),
      
    getDetail: (id: string) => 
      api.get<JobDetail>(`/api/v2/jobs/${id}`),
      
    search: (params: JobSearchParams) => 
      api.get<JobListResponse>('/api/v2/jobs/search', params),
      
    apply: (data: JobApplyRequest) => 
      api.post('/api/v2/jobs/apply', data),
      
    favorite: (jobId: string) => 
      api.post(`/api/v2/jobs/${jobId}/favorite`),
      
    unfavorite: (jobId: string) => 
      api.delete(`/api/v2/jobs/${jobId}/favorite`)
  }
  
  // AIç›¸å…³API
  static ai = {
    analyzeResume: (data: AnalyzeResumeRequest) => 
      api.post<AnalyzeResumeResponse>('/api/v1/analyze/resume', data),
      
    chat: (data: ChatRequest) => 
      api.post<ChatResponse>('/api/v1/chat/aiChat', data),
      
    getVectors: (resumeId: string) => 
      api.get<VectorResponse>(`/api/v1/vectors/${resumeId}`),
      
    searchSimilar: (data: SearchSimilarRequest) => 
      api.post<SimilarResumeResponse>('/api/v1/vectors/search', data)
  }
  
  // ç»Ÿè®¡æ•°æ®API
  static statistics = {
    getMarketData: () => 
      api.get<MarketData>('/api/v1/statistics/market'),
      
    getPersonalData: () => 
      api.get<PersonalData>('/api/v1/statistics/personal'),
      
    getEnterpriseData: () => 
      api.get<EnterpriseData>('/api/v1/statistics/enterprise')
  }
}
```

#### 3.1.1 ä½¿ç”¨ç¤ºä¾‹

```typescript
// åœ¨é¡µé¢ä¸­ä½¿ç”¨APIæœåŠ¡
import { ApiService } from '@/api/request'

// ç”¨æˆ·ç™»å½•
const handleLogin = async (loginData: LoginRequest) => {
  try {
    const response = await ApiService.user.login(loginData)
    // å¤„ç†ç™»å½•æˆåŠŸ
    console.log('ç™»å½•æˆåŠŸ:', response)
  } catch (error) {
    // é”™è¯¯å·²åœ¨requestå‡½æ•°ä¸­ç»Ÿä¸€å¤„ç†
    console.error('ç™»å½•å¤±è´¥:', error)
  }
}

// è·å–ç®€å†åˆ—è¡¨ï¼ˆå¸¦åŠ è½½çŠ¶æ€ï¼‰
const loadResumeList = async () => {
  try {
    const resumes = await ApiService.resume.getList(
      { page: 1, size: 10 },
      { showLoading: true }
    )
    setResumeList(resumes)
  } catch (error) {
    // é”™è¯¯å¤„ç†
  }
}

// é™é»˜è¯·æ±‚ï¼ˆä¸æ˜¾ç¤ºé”™è¯¯æç¤ºï¼‰
const checkUserStatus = async () => {
  try {
    const userInfo = await ApiService.user.getInfo({
      showError: false
    })
    return userInfo
  } catch (error) {
    return null
  }
}
```

#### 3.2 ä¸šåŠ¡é€»è¾‘æœåŠ¡å±‚

```typescript
// src/services/resumeService.ts
import { request } from '../api/request'
import { Resume, ResumeForm, ResumeListParams } from '../types/resume'

export const resumeService = {
  // è·å–ç®€å†åˆ—è¡¨
  getList: (params?: ResumeListParams) => request<Resume[]>({
    url: '/api/v1/resume/list',
    method: 'GET',
    data: params
  }),
  
  // è·å–ç®€å†è¯¦æƒ…
  getDetail: (id: string) => request<Resume>({
    url: `/api/v1/resume/detail/${id}`,
    method: 'GET'
  }),
  
  // åˆ›å»ºç®€å†
  create: (data: ResumeForm) => request<Resume>({
    url: '/api/v1/resume/create',
    method: 'POST',
    data
  }),
  
  // æ›´æ–°ç®€å†
  update: (id: string, data: ResumeForm) => request<Resume>({
    url: `/api/v1/resume/update/${id}`,
    method: 'PUT',
    data
  }),
  
  // åˆ é™¤ç®€å†
  delete: (id: string) => request<boolean>({
    url: `/api/v1/resume/delete/${id}`,
    method: 'DELETE'
  }),

  // ä¸Šä¼ ç®€å†æ–‡ä»¶
  upload: (file: File) => request<{ url: string; filename: string }>({
    url: '/api/v1/resume/upload',
    method: 'POST',
    data: file,
    header: {
      'Content-Type': 'multipart/form-data'
    }
  }),

  // è·å–ç®€å†æ¨¡æ¿
  getTemplates: () => request<ResumeTemplate[]>({
    url: '/api/v1/resume/templates',
    method: 'GET'
  }),

  // å¤åˆ¶ç®€å†
  duplicate: (id: string, name: string) => request<Resume>({
    url: `/api/v1/resume/duplicate/${id}`,
    method: 'POST',
    data: { name }
  }),

  // å¯¼å‡ºç®€å†
  export: (id: string, format: 'pdf' | 'docx') => request<{ url: string }>({
    url: `/api/v1/resume/export/${id}`,
    method: 'POST',
    data: { format }
  })
}

// src/services/userService.ts
import { request } from '../api/request'
import { User, UserForm, LoginForm, RegisterForm } from '../types/user'

export const userService = {
  // ç”¨æˆ·ç™»å½•
  login: (data: LoginForm) => request<{ user: User; token: string }>({
    url: '/api/v2/auth/login',
    method: 'POST',
    data
  }),
  
  // ç”¨æˆ·æ³¨å†Œ
  register: (data: RegisterForm) => request<{ user: User; token: string }>({
    url: '/api/v2/auth/register',
    method: 'POST',
    data
  }),
  
  // è·å–ç”¨æˆ·ä¿¡æ¯
  getInfo: () => request<User>({
    url: '/api/v2/user/info',
    method: 'GET'
  }),
  
  // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
  updateInfo: (data: UserForm) => request<User>({
    url: '/api/v2/user/update',
    method: 'PUT',
    data
  }),
  
  // ä¿®æ”¹å¯†ç 
  changePassword: (data: { oldPassword: string; newPassword: string }) => request<boolean>({
    url: '/api/v2/user/change-password',
    method: 'PUT',
    data
  }),

  // å‘é€éªŒè¯ç 
  sendCode: (phone: string) => request<boolean>({
    url: '/api/v2/auth/send-code',
    method: 'POST',
    data: { phone }
  }),

  // å¾®ä¿¡ç™»å½•
  wechatLogin: (code: string) => request<{ user: User; token: string }>({
    url: '/api/v2/auth/wechat-login',
    method: 'POST',
    data: { code }
  }),

  // é€€å‡ºç™»å½•
  logout: () => request<boolean>({
    url: '/api/v2/auth/logout',
    method: 'POST'
  })
}

// src/services/jobService.ts
import { request } from '../api/request'
import { Job, JobListParams, JobSearchParams, JobApplyForm } from '../types/job'

export const jobService = {
  // è·å–èŒä½åˆ—è¡¨
  getList: (params?: JobListParams) => request<{ jobs: Job[]; total: number }>({
    url: '/api/v2/jobs',
    method: 'GET',
    data: params
  }),
  
  // è·å–èŒä½è¯¦æƒ…
  getDetail: (id: string) => request<Job>({
    url: `/api/v2/jobs/${id}`,
    method: 'GET'
  }),
  
  // æœç´¢èŒä½
  search: (params: JobSearchParams) => request<{ jobs: Job[]; total: number }>({
    url: '/api/v2/jobs/search',
    method: 'GET',
    data: params
  }),
  
  // ç”³è¯·èŒä½
  apply: (data: JobApplyForm) => request<{ applicationId: string }>({
    url: '/api/v2/jobs/apply',
    method: 'POST',
    data
  }),

  // æ”¶è—èŒä½
  favorite: (jobId: string) => request<boolean>({
    url: `/api/v2/jobs/${jobId}/favorite`,
    method: 'POST'
  }),

  // å–æ¶ˆæ”¶è—
  unfavorite: (jobId: string) => request<boolean>({
    url: `/api/v2/jobs/${jobId}/favorite`,
    method: 'DELETE'
  }),

  // è·å–æ”¶è—åˆ—è¡¨
  getFavorites: () => request<Job[]>({
    url: '/api/v2/jobs/favorites',
    method: 'GET'
  }),

  // è·å–ç”³è¯·è®°å½•
  getApplications: () => request<JobApplication[]>({
    url: '/api/v2/jobs/applications',
    method: 'GET'
  })
}

// src/services/aiService.ts
import { request } from '../api/request'
import { ChatMessage, ResumeAnalysis, VectorSearch } from '../types/ai'

export const aiService = {
  // ç®€å†åˆ†æ
  analyzeResume: (resumeId: string) => request<ResumeAnalysis>({
    url: '/api/v1/analyze/resume',
    method: 'POST',
    data: { resumeId }
  }),
  
  // AIèŠå¤©
  chat: (message: string, history?: ChatMessage[]) => request<ChatMessage>({
    url: '/api/v1/chat/aiChat',
    method: 'POST',
    data: { message, history }
  }),
  
  // è·å–ç®€å†å‘é‡
  getVectors: (resumeId: string) => request<number[]>({
    url: `/api/v1/vectors/${resumeId}`,
    method: 'GET'
  }),
  
  // æœç´¢ç›¸ä¼¼ç®€å†
  searchSimilar: (data: VectorSearch) => request<Resume[]>({
    url: '/api/v1/vectors/search',
    method: 'POST',
    data
  }),

  // æ™ºèƒ½æ¨èèŒä½
  recommendJobs: (resumeId: string) => request<Job[]>({
    url: '/api/v1/ai/recommend-jobs',
    method: 'POST',
    data: { resumeId }
  }),

  // ç®€å†ä¼˜åŒ–å»ºè®®
  getOptimizationSuggestions: (resumeId: string) => request<OptimizationSuggestion[]>({
    url: '/api/v1/ai/optimization-suggestions',
    method: 'POST',
    data: { resumeId }
  }),

  // æŠ€èƒ½åŒ¹é…åˆ†æ
  analyzeSkillMatch: (resumeId: string, jobId: string) => request<SkillMatchAnalysis>({
    url: '/api/v1/ai/skill-match',
    method: 'POST',
    data: { resumeId, jobId }
  })
}

// src/services/statisticsService.ts
import { request } from '../api/request'
import { MarketData, PersonalData, EnterpriseData } from '../types/statistics'

export const statisticsService = {
  // è·å–å¸‚åœºæ•°æ®
  getMarketData: () => request<MarketData>({
    url: '/api/v1/statistics/market',
    method: 'GET'
  }),
  
  // è·å–ä¸ªäººæ•°æ®
  getPersonalData: () => request<PersonalData>({
    url: '/api/v1/statistics/personal',
    method: 'GET'
  }),
  
  // è·å–ä¼ä¸šæ•°æ®
  getEnterpriseData: () => request<EnterpriseData>({
    url: '/api/v1/statistics/enterprise',
    method: 'GET'
  }),

  // è·å–ç®€å†ç»Ÿè®¡æ•°æ®
  getResumeStats: () => request<ResumeStats>({
    url: '/api/v1/statistics/resume',
    method: 'GET'
  }),

  // è·å–èŒä½ç”³è¯·ç»Ÿè®¡
  getApplicationStats: () => request<ApplicationStats>({
    url: '/api/v1/statistics/applications',
    method: 'GET'
  }),

  // è·å–è¡Œä¸šè¶‹åŠ¿æ•°æ®
  getIndustryTrends: (industry?: string) => request<IndustryTrend[]>({
    url: '/api/v1/statistics/industry-trends',
    method: 'GET',
    data: { industry }
  })
}
```

#### 3.2.1 æœåŠ¡å±‚ä½¿ç”¨ç¤ºä¾‹

```typescript
// åœ¨é¡µé¢ä¸­ä½¿ç”¨ä¸šåŠ¡æœåŠ¡
import { resumeService, userService, jobService, aiService } from '@/services'

// ç®€å†ç®¡ç†é¡µé¢
const ResumePage = () => {
  const [resumes, setResumes] = useState<Resume[]>([])
  const [loading, setLoading] = useState(false)

  // åŠ è½½ç®€å†åˆ—è¡¨
  const loadResumes = async () => {
    setLoading(true)
    try {
      const resumeList = await resumeService.getList({ page: 1, size: 10 })
      setResumes(resumeList)
    } catch (error) {
      console.error('åŠ è½½ç®€å†åˆ—è¡¨å¤±è´¥:', error)
    } finally {
      setLoading(false)
    }
  }

  // åˆ›å»ºç®€å†
  const handleCreateResume = async (formData: ResumeForm) => {
    try {
      const newResume = await resumeService.create(formData)
      setResumes(prev => [newResume, ...prev])
      Taro.showToast({ title: 'åˆ›å»ºæˆåŠŸ', icon: 'success' })
    } catch (error) {
      console.error('åˆ›å»ºç®€å†å¤±è´¥:', error)
    }
  }

  // åˆ é™¤ç®€å†
  const handleDeleteResume = async (id: string) => {
    try {
      await resumeService.delete(id)
      setResumes(prev => prev.filter(resume => resume.id !== id))
      Taro.showToast({ title: 'åˆ é™¤æˆåŠŸ', icon: 'success' })
    } catch (error) {
      console.error('åˆ é™¤ç®€å†å¤±è´¥:', error)
    }
  }

  return (
    // é¡µé¢ç»„ä»¶
  )
}

// èŒä½æœç´¢é¡µé¢
const JobSearchPage = () => {
  const [jobs, setJobs] = useState<Job[]>([])
  const [searchParams, setSearchParams] = useState<JobSearchParams>({})

  // æœç´¢èŒä½
  const searchJobs = async (params: JobSearchParams) => {
    try {
      const result = await jobService.search(params)
      setJobs(result.jobs)
    } catch (error) {
      console.error('æœç´¢èŒä½å¤±è´¥:', error)
    }
  }

  // ç”³è¯·èŒä½
  const applyJob = async (jobId: string, resumeId: string) => {
    try {
      await jobService.apply({ jobId, resumeId })
      Taro.showToast({ title: 'ç”³è¯·æˆåŠŸ', icon: 'success' })
    } catch (error) {
      console.error('ç”³è¯·èŒä½å¤±è´¥:', error)
    }
  }

  return (
    // é¡µé¢ç»„ä»¶
  )
}

// AIåŠ©æ‰‹é¡µé¢
const AIPage = () => {
  const [messages, setMessages] = useState<ChatMessage[]>([])
  const [analyzing, setAnalyzing] = useState(false)

  // å‘é€æ¶ˆæ¯
  const sendMessage = async (message: string) => {
    try {
      const response = await aiService.chat(message, messages)
      setMessages(prev => [...prev, { role: 'user', content: message }, response])
    } catch (error) {
      console.error('å‘é€æ¶ˆæ¯å¤±è´¥:', error)
    }
  }

  // åˆ†æç®€å†
  const analyzeResume = async (resumeId: string) => {
    setAnalyzing(true)
    try {
      const analysis = await aiService.analyzeResume(resumeId)
      // å¤„ç†åˆ†æç»“æœ
      console.log('ç®€å†åˆ†æç»“æœ:', analysis)
    } catch (error) {
      console.error('ç®€å†åˆ†æå¤±è´¥:', error)
    } finally {
      setAnalyzing(false)
    }
  }

  return (
    // é¡µé¢ç»„ä»¶
  )
}
```

#### 3.2.2 æœåŠ¡å±‚ç»Ÿä¸€å¯¼å‡º

```typescript
// src/services/index.ts
export { resumeService } from './resumeService'
export { userService } from './userService'
export { jobService } from './jobService'
export { aiService } from './aiService'
export { statisticsService } from './statisticsService'

// ç»Ÿä¸€çš„æœåŠ¡å¯¹è±¡
export const services = {
  resume: resumeService,
  user: userService,
  job: jobService,
  ai: aiService,
  statistics: statisticsService
}

// ç±»å‹å¯¼å‡º
export type {
  Resume,
  ResumeForm,
  ResumeListParams,
  User,
  UserForm,
  LoginForm,
  RegisterForm,
  Job,
  JobListParams,
  JobSearchParams,
  JobApplyForm,
  ChatMessage,
  ResumeAnalysis,
  VectorSearch,
  MarketData,
  PersonalData,
  EnterpriseData
} from '../types'
```

#### 3.2.3 æœåŠ¡å±‚ä¼˜åŠ¿

1. **ä¸šåŠ¡é€»è¾‘å°è£…**ï¼šå°†APIè°ƒç”¨é€»è¾‘å°è£…åœ¨æœåŠ¡å±‚ï¼Œé¡µé¢ç»„ä»¶åªéœ€å…³æ³¨UIé€»è¾‘
2. **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰ï¼Œæä¾›æ™ºèƒ½ä»£ç æç¤º
3. **ç»Ÿä¸€æ¥å£**ï¼šæ‰€æœ‰ä¸šåŠ¡æœåŠ¡éƒ½ä½¿ç”¨ç›¸åŒçš„requestå‡½æ•°ï¼Œä¿è¯ä¸€è‡´æ€§
4. **æ˜“äºæµ‹è¯•**ï¼šæœåŠ¡å±‚å¯ä»¥ç‹¬ç«‹è¿›è¡Œå•å…ƒæµ‹è¯•
5. **æ˜“äºç»´æŠ¤**ï¼šä¸šåŠ¡é€»è¾‘é›†ä¸­ç®¡ç†ï¼Œä¾¿äºä¿®æ”¹å’Œæ‰©å±•
6. **å¤ç”¨æ€§å¼º**ï¼šæœåŠ¡å±‚å¯ä»¥åœ¨ä¸åŒé¡µé¢å’Œç»„ä»¶ä¸­å¤ç”¨

#### 3.3 è·¨å¹³å°UIç»„ä»¶åº“

```typescript
// src/components/ResumeCard/index.tsx
import React from 'react'
import { View, Text } from '@tarojs/components'
import { Resume } from '../../types/resume'
import './index.scss'

interface ResumeCardProps {
  resume: Resume
  onView: (id: string) => void
  onEdit: (id: string) => void
  onDelete: (id: string) => void
  showActions?: boolean
  variant?: 'default' | 'compact' | 'detailed'
}

export const ResumeCard: React.FC<ResumeCardProps> = ({ 
  resume, 
  onView, 
  onEdit, 
  onDelete,
  showActions = true,
  variant = 'default'
}) => {
  const cardClass = `resume-card resume-card--${variant}`
  
  return (
    <View className={cardClass}>
      <View className="resume-card__header">
        <Text className="resume-card__title">{resume.title}</Text>
        <View className="resume-card__status">
          <Text className={`resume-card__status-text resume-card__status-text--${resume.status}`}>
            {getStatusText(resume.status)}
          </Text>
        </View>
      </View>
      
      <View className="resume-card__content">
        <Text className="resume-card__desc">æ¨¡æ¿: {resume.templateName || 'é»˜è®¤æ¨¡æ¿'}</Text>
        <Text className="resume-card__date">åˆ›å»ºæ—¶é—´: {formatDate(resume.createdAt)}</Text>
        {variant === 'detailed' && (
          <Text className="resume-card__summary">{resume.summary}</Text>
        )}
      </View>
      
      {showActions && (
        <View className="resume-card__footer">
          <View 
            className="resume-card__btn resume-card__btn--primary" 
            onClick={() => onView(resume.id)}
          >
            æŸ¥çœ‹
          </View>
          <View 
            className="resume-card__btn resume-card__btn--secondary" 
            onClick={() => onEdit(resume.id)}
          >
            ç¼–è¾‘
          </View>
          <View 
            className="resume-card__btn resume-card__btn--danger" 
            onClick={() => onDelete(resume.id)}
          >
            åˆ é™¤
          </View>
        </View>
      )}
    </View>
  )
}

function getStatusText(status: string): string {
  const statusMap: Record<string, string> = {
    draft: 'è‰ç¨¿',
    published: 'å·²å‘å¸ƒ',
    archived: 'å·²å½’æ¡£',
    reviewing: 'å®¡æ ¸ä¸­'
  }
  return statusMap[status] || 'è‰ç¨¿'
}

function formatDate(date: string | Date): string {
  const d = new Date(date)
  return d.toLocaleDateString('zh-CN')
}
```

```typescript
// src/components/JobCard/index.tsx
import React from 'react'
import { View, Text, Image } from '@tarojs/components'
import { Job } from '../../types/job'
import './index.scss'

interface JobCardProps {
  job: Job
  onView: (id: string) => void
  onApply: (id: string) => void
  onFavorite: (id: string) => void
  isFavorite?: boolean
  showActions?: boolean
  variant?: 'default' | 'compact' | 'featured'
}

export const JobCard: React.FC<JobCardProps> = ({
  job,
  onView,
  onApply,
  onFavorite,
  isFavorite = false,
  showActions = true,
  variant = 'default'
}) => {
  const cardClass = `job-card job-card--${variant}`
  
  return (
    <View className={cardClass} onClick={() => onView(job.id)}>
      <View className="job-card__header">
        <View className="job-card__company">
          {job.companyLogo && (
            <Image 
              className="job-card__logo" 
              src={job.companyLogo} 
              mode="aspectFit"
            />
          )}
          <View className="job-card__info">
            <Text className="job-card__title">{job.title}</Text>
            <Text className="job-card__company-name">{job.company}</Text>
          </View>
        </View>
        <View 
          className={`job-card__favorite ${isFavorite ? 'job-card__favorite--active' : ''}`}
          onClick={(e) => {
            e.stopPropagation()
            onFavorite(job.id)
          }}
        >
          <Text className="job-card__favorite-icon">â™¥</Text>
        </View>
      </View>
      
      <View className="job-card__content">
        <View className="job-card__salary">
          <Text className="job-card__salary-text">{job.salary}</Text>
        </View>
        <View className="job-card__location">
          <Text className="job-card__location-text">{job.location}</Text>
        </View>
        <View className="job-card__tags">
          {job.tags?.slice(0, 3).map((tag, index) => (
            <Text key={index} className="job-card__tag">{tag}</Text>
          ))}
        </View>
      </View>
      
      {showActions && (
        <View className="job-card__footer">
          <View 
            className="job-card__btn job-card__btn--primary"
            onClick={(e) => {
              e.stopPropagation()
              onApply(job.id)
            }}
          >
            ç«‹å³ç”³è¯·
          </View>
        </View>
      )}
    </View>
  )
}
```

```typescript
// src/components/StatisticsCard/index.tsx
import React from 'react'
import { View, Text } from '@tarojs/components'
import './index.scss'

interface StatisticsCardProps {
  title: string
  value: string | number
  unit?: string
  trend?: 'up' | 'down' | 'stable'
  trendValue?: string
  icon?: string
  color?: 'primary' | 'success' | 'warning' | 'danger'
  onClick?: () => void
}

export const StatisticsCard: React.FC<StatisticsCardProps> = ({
  title,
  value,
  unit = '',
  trend,
  trendValue,
  icon,
  color = 'primary',
  onClick
}) => {
  const cardClass = `statistics-card statistics-card--${color} ${onClick ? 'statistics-card--clickable' : ''}`
  
  return (
    <View className={cardClass} onClick={onClick}>
      <View className="statistics-card__header">
        <Text className="statistics-card__title">{title}</Text>
        {icon && (
          <Text className="statistics-card__icon">{icon}</Text>
        )}
      </View>
      
      <View className="statistics-card__content">
        <Text className="statistics-card__value">
          {value}
          {unit && <Text className="statistics-card__unit">{unit}</Text>}
        </Text>
        
        {trend && trendValue && (
          <View className={`statistics-card__trend statistics-card__trend--${trend}`}>
            <Text className="statistics-card__trend-icon">
              {trend === 'up' ? 'â†—' : trend === 'down' ? 'â†˜' : 'â†’'}
            </Text>
            <Text className="statistics-card__trend-value">{trendValue}</Text>
          </View>
        )}
      </View>
    </View>
  )
}
```

#### 3.3.1 ç»„ä»¶åº“ç»Ÿä¸€å¯¼å‡º

```typescript
// src/components/index.ts
export { ResumeCard } from './ResumeCard'
export { JobCard } from './JobCard'
export { UserProfile } from './UserProfile'
export { ChatMessage } from './ChatMessage'
export { StatisticsCard } from './StatisticsCard'

// åŸºç¡€ç»„ä»¶
export { Button } from './Button'
export { Input } from './Input'
export { Modal } from './Modal'
export { Loading } from './Loading'
export { Empty } from './Empty'

// å¸ƒå±€ç»„ä»¶
export { Container } from './Container'
export { Row } from './Row'
export { Col } from './Col'
export { Card } from './Card'
export { List } from './List'

// ä¸šåŠ¡ç»„ä»¶
export { SearchBar } from './SearchBar'
export { FilterBar } from './FilterBar'
export { TabBar } from './TabBar'
export { NavigationBar } from './NavigationBar'
```

#### 3.3.2 ç»„ä»¶åº“ä½¿ç”¨ç¤ºä¾‹

```typescript
// åœ¨é¡µé¢ä¸­ä½¿ç”¨ç»„ä»¶
import { ResumeCard, JobCard, UserProfile } from '@/components'

// ç®€å†åˆ—è¡¨é¡µé¢
const ResumeListPage = () => {
  const [resumes, setResumes] = useState<Resume[]>([])

  const handleViewResume = (id: string) => {
    Taro.navigateTo({ url: `/pages/resume/detail?id=${id}` })
  }

  const handleEditResume = (id: string) => {
    Taro.navigateTo({ url: `/pages/resume/edit?id=${id}` })
  }

  const handleDeleteResume = (id: string) => {
    Taro.showModal({
      title: 'ç¡®è®¤åˆ é™¤',
      content: 'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç®€å†å—ï¼Ÿ',
      success: (res) => {
        if (res.confirm) {
          resumeService.delete(id)
        }
      }
    })
  }

  return (
    <View className="resume-list">
      {resumes.map(resume => (
        <ResumeCard
          key={resume.id}
          resume={resume}
          onView={handleViewResume}
          onEdit={handleEditResume}
          onDelete={handleDeleteResume}
          variant="default"
        />
      ))}
    </View>
  )
}
```

#### 3.3.3 ç»„ä»¶åº“ä¼˜åŠ¿

1. **è·¨å¹³å°å…¼å®¹**ï¼šä½¿ç”¨Taroç»„ä»¶ï¼Œè‡ªåŠ¨é€‚é…å°ç¨‹åºå’ŒH5
2. **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
3. **ä¸»é¢˜ç»Ÿä¸€**ï¼šç»Ÿä¸€çš„æ ·å¼è§„èŒƒå’Œè®¾è®¡è¯­è¨€
4. **é«˜åº¦å¯é…ç½®**ï¼šæ”¯æŒå¤šç§å˜ä½“å’Œè‡ªå®šä¹‰é€‰é¡¹
5. **æ˜“äºç»´æŠ¤**ï¼šç»„ä»¶åŒ–è®¾è®¡ï¼Œä¾¿äºä¿®æ”¹å’Œæ‰©å±•
6. **æ€§èƒ½ä¼˜åŒ–**ï¼šåˆç†çš„ç»„ä»¶ç»“æ„å’Œæ ·å¼ä¼˜åŒ–
7. **æ— éšœç¢æ”¯æŒ**ï¼šç¬¦åˆå¯è®¿é—®æ€§æ ‡å‡†

#### 3.4 å¹³å°ç‰¹å®šåŠŸèƒ½é€‚é…

```typescript
// src/utils/platform.ts
import Taro from '@tarojs/taro'

// å¹³å°æ£€æµ‹
export const isWeapp = process.env.TARO_ENV === 'weapp'
export const isH5 = process.env.TARO_ENV === 'h5'
export const isRN = process.env.TARO_ENV === 'rn'
export const isSwan = process.env.TARO_ENV === 'swan'

// è·å–å½“å‰å¹³å°ä¿¡æ¯
export const getPlatformInfo = () => {
  return {
    platform: process.env.TARO_ENV,
    isWeapp,
    isH5,
    isRN,
    isSwan,
    userAgent: isH5 ? navigator.userAgent : '',
    systemInfo: Taro.getSystemInfoSync()
  }
}

// åˆ†äº«åŠŸèƒ½é€‚é…
export interface ShareOptions {
  title: string
  path?: string
  imageUrl?: string
  desc?: string
  type?: 'link' | 'image' | 'video'
}

export function shareContent(options: ShareOptions) {
  if (isWeapp) {
    // å°ç¨‹åºåˆ†äº«é€»è¾‘
    return {
      title: options.title,
      path: options.path || '/pages/index/index',
      imageUrl: options.imageUrl
    }
  } else if (isH5) {
    // Webç«¯åˆ†äº«é€»è¾‘
    if (navigator.share) {
      // ä½¿ç”¨Web Share API
      return navigator.share({
        title: options.title,
        text: options.desc,
        url: window.location.href
      })
    } else {
      // é™çº§åˆ°è‡ªå®šä¹‰åˆ†äº«å¼¹çª—
      return showCustomShareModal(options)
    }
  }
}

// æ–‡ä»¶ä¸Šä¼ é€‚é…
export interface UploadOptions {
  filePath?: string
  file?: File
  url: string
  name?: string
  formData?: Record<string, any>
  header?: Record<string, string>
}

export async function uploadFile(options: UploadOptions) {
  if (isWeapp) {
    // å°ç¨‹åºä¸Šä¼ 
    return await Taro.uploadFile({
      url: options.url,
      filePath: options.filePath!,
      name: options.name || 'file',
      formData: options.formData,
      header: options.header
    })
  } else if (isH5) {
    // Webç«¯ä¸Šä¼ 
    if (!options.file) {
      throw new Error('Webç«¯ä¸Šä¼ éœ€è¦æä¾›fileå¯¹è±¡')
    }
    
    const formData = new FormData()
    formData.append(options.name || 'file', options.file)
    
    // æ·»åŠ é¢å¤–çš„è¡¨å•æ•°æ®
    if (options.formData) {
      Object.keys(options.formData).forEach(key => {
        formData.append(key, options.formData![key])
      })
    }
    
    const response = await fetch(options.url, {
      method: 'POST',
      body: formData,
      headers: options.header
    })
    
    return {
      statusCode: response.status,
      data: await response.json()
    }
  }
}

// å­˜å‚¨é€‚é…
export const storage = {
  setItem: (key: string, value: any) => {
    if (isWeapp) {
      Taro.setStorageSync(key, value)
    } else if (isH5) {
      localStorage.setItem(key, JSON.stringify(value))
    }
  },
  
  getItem: (key: string) => {
    if (isWeapp) {
      return Taro.getStorageSync(key)
    } else if (isH5) {
      const value = localStorage.getItem(key)
      return value ? JSON.parse(value) : null
    }
  },
  
  removeItem: (key: string) => {
    if (isWeapp) {
      Taro.removeStorageSync(key)
    } else if (isH5) {
      localStorage.removeItem(key)
    }
  }
}

// æ¡ä»¶ç¼–è¯‘å®
export const platform = {
  isWeapp,
  isH5,
  isRN,
  isSwan,
  getPlatformInfo,
  shareContent,
  uploadFile,
  storage
}
```

#### 3.4.1 å¹³å°ç‰¹å®šç»„ä»¶ç¤ºä¾‹

```typescript
// src/components/ShareButton/index.tsx
import React from 'react'
import { View, Button } from '@tarojs/components'
import { platform } from '../../utils/platform'

interface ShareButtonProps {
  title: string
  path?: string
  imageUrl?: string
  desc?: string
  onSuccess?: () => void
  onFail?: (error: any) => void
}

export const ShareButton: React.FC<ShareButtonProps> = ({
  title,
  path,
  imageUrl,
  desc,
  onSuccess,
  onFail
}) => {
  const handleShare = async () => {
    try {
      if (platform.isWeapp) {
        // å°ç¨‹åºåˆ†äº«
        const shareData = platform.shareContent({
          title,
          path,
          imageUrl
        })
        console.log('å°ç¨‹åºåˆ†äº«æ•°æ®:', shareData)
        onSuccess?.()
      } else if (platform.isH5) {
        // Webç«¯åˆ†äº«
        await platform.shareContent({
          title,
          desc,
          type: 'link'
        })
        onSuccess?.()
      }
    } catch (error) {
      onFail?.(error)
    }
  }

  return (
    <View className="share-button">
      {platform.isWeapp ? (
        <Button 
          className="share-button__btn"
          openType="share"
          onClick={handleShare}
        >
          åˆ†äº«
        </Button>
      ) : (
        <Button 
          className="share-button__btn"
          onClick={handleShare}
        >
          åˆ†äº«
        </Button>
      )}
    </View>
  )
}
```

#### 3.4.2 å¹³å°é€‚é…ä¼˜åŠ¿

1. **ç»Ÿä¸€æ¥å£**ï¼šæä¾›ç»Ÿä¸€çš„APIæ¥å£ï¼Œéšè—å¹³å°å·®å¼‚
2. **è‡ªåŠ¨é€‚é…**ï¼šæ ¹æ®è¿è¡Œç¯å¢ƒè‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„å®ç°
3. **é™çº§å¤„ç†**ï¼šWebç«¯ä¸æ”¯æŒçš„åŠŸèƒ½æä¾›é™çº§æ–¹æ¡ˆ
4. **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
5. **æ˜“äºç»´æŠ¤**ï¼šå¹³å°ç‰¹å®šé€»è¾‘é›†ä¸­ç®¡ç†
6. **æ‰©å±•æ€§å¼º**ï¼šæ˜“äºæ·»åŠ æ–°å¹³å°æ”¯æŒ

#### 3.5 ç»Ÿä¸€çŠ¶æ€ç®¡ç†

```typescript
// src/store/resumeStore.ts
import { create } from 'zustand'
import { persist } from 'zustand/middleware'
import { resumeService } from '../services/resumeService'
import { Resume, ResumeForm } from '../types/resume'
import { platform } from '../utils/platform'

interface ResumeState {
  resumes: Resume[]
  currentResume: Resume | null
  loading: boolean
  error: string | null
  lastFetchTime: number | null
  
  // åŒæ­¥æ–¹æ³•
  setResumes: (resumes: Resume[]) => void
  setCurrentResume: (resume: Resume | null) => void
  setLoading: (loading: boolean) => void
  setError: (error: string | null) => void
  clearError: () => void
  
  // å¼‚æ­¥æ–¹æ³•
  fetchResumes: (forceRefresh?: boolean) => Promise<void>
  fetchResumeDetail: (id: string) => Promise<void>
  createResume: (data: ResumeForm) => Promise<Resume | null>
  updateResume: (id: string, data: ResumeForm) => Promise<Resume | null>
  deleteResume: (id: string) => Promise<boolean>
  duplicateResume: (id: string, name: string) => Promise<Resume | null>
  
  // å·¥å…·æ–¹æ³•
  getResumeById: (id: string) => Resume | undefined
  refreshResumes: () => Promise<void>
}

export const useResumeStore = create<ResumeState>()(
  persist(
    (set, get) => ({
      resumes: [],
      currentResume: null,
      loading: false,
      error: null,
      lastFetchTime: null,
      
      // åŒæ­¥æ–¹æ³•
      setResumes: (resumes) => set({ resumes }),
      setCurrentResume: (resume) => set({ currentResume: resume }),
      setLoading: (loading) => set({ loading }),
      setError: (error) => set({ error }),
      clearError: () => set({ error: null }),
      
      // å¼‚æ­¥æ–¹æ³•
      fetchResumes: async (forceRefresh = false) => {
        const { lastFetchTime, loading } = get()
        
        // é˜²æ­¢é‡å¤è¯·æ±‚
        if (loading) return
        
        // æ£€æŸ¥ç¼“å­˜æ—¶é—´ï¼ˆ5åˆ†é’Ÿå†…ä¸é‡å¤è¯·æ±‚ï¼‰
        const now = Date.now()
        if (!forceRefresh && lastFetchTime && (now - lastFetchTime) < 5 * 60 * 1000) {
          return
        }
        
        set({ loading: true, error: null })
        
        try {
          const response = await resumeService.getList()
          set({ 
            resumes: response, 
            loading: false, 
            lastFetchTime: now 
          })
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'è·å–ç®€å†åˆ—è¡¨å¤±è´¥', 
            loading: false 
          })
        }
      },
      
      fetchResumeDetail: async (id) => {
        set({ loading: true, error: null })
        
        try {
          const resume = await resumeService.getDetail(id)
          set({ 
            currentResume: resume, 
            loading: false 
          })
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'è·å–ç®€å†è¯¦æƒ…å¤±è´¥', 
            loading: false 
          })
        }
      },
      
      createResume: async (data) => {
        set({ loading: true, error: null })
        
        try {
          const newResume = await resumeService.create(data)
          
          // æ›´æ–°æœ¬åœ°çŠ¶æ€
          const { resumes } = get()
          set({ 
            resumes: [newResume, ...resumes],
            currentResume: newResume,
            loading: false 
          })
          
          return newResume
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'åˆ›å»ºç®€å†å¤±è´¥', 
            loading: false 
          })
          return null
        }
      },
      
      updateResume: async (id, data) => {
        set({ loading: true, error: null })
        
        try {
          const updatedResume = await resumeService.update(id, data)
          
          // æ›´æ–°æœ¬åœ°çŠ¶æ€
          const { resumes, currentResume } = get()
          const updatedResumes = resumes.map(resume => 
            resume.id === id ? updatedResume : resume
          )
          
          set({ 
            resumes: updatedResumes,
            currentResume: currentResume?.id === id ? updatedResume : currentResume,
            loading: false 
          })
          
          return updatedResume
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'æ›´æ–°ç®€å†å¤±è´¥', 
            loading: false 
          })
          return null
        }
      },
      
      deleteResume: async (id) => {
        set({ loading: true, error: null })
        
        try {
          await resumeService.delete(id)
          
          // æ›´æ–°æœ¬åœ°çŠ¶æ€
          const { resumes, currentResume } = get()
          const filteredResumes = resumes.filter(resume => resume.id !== id)
          
          set({ 
            resumes: filteredResumes,
            currentResume: currentResume?.id === id ? null : currentResume,
            loading: false 
          })
          
          return true
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'åˆ é™¤ç®€å†å¤±è´¥', 
            loading: false 
          })
          return false
        }
      },
      
      duplicateResume: async (id, name) => {
        set({ loading: true, error: null })
        
        try {
          const duplicatedResume = await resumeService.duplicate(id, name)
          
          // æ›´æ–°æœ¬åœ°çŠ¶æ€
          const { resumes } = get()
          set({ 
            resumes: [duplicatedResume, ...resumes],
            loading: false 
          })
          
          return duplicatedResume
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'å¤åˆ¶ç®€å†å¤±è´¥', 
            loading: false 
          })
          return null
        }
      },
      
      // å·¥å…·æ–¹æ³•
      getResumeById: (id) => {
        const { resumes } = get()
        return resumes.find(resume => resume.id === id)
      },
      
      refreshResumes: async () => {
        await get().fetchResumes(true)
      }
    }),
    {
      name: 'resume-storage',
      getStorage: () => ({
        getItem: (name: string) => {
          return platform.storage.getItem(name)
        },
        setItem: (name: string, value: string) => {
          platform.storage.setItem(name, value)
        },
        removeItem: (name: string) => {
          platform.storage.removeItem(name)
        }
      }),
      // åªæŒä¹…åŒ–å¿…è¦çš„æ•°æ®
      partialize: (state) => ({
        resumes: state.resumes,
        lastFetchTime: state.lastFetchTime
      })
    }
  )
)
```

```typescript
// src/store/jobStore.ts
import { create } from 'zustand'
import { persist } from 'zustand/middleware'
import { jobService } from '../services/jobService'
import { Job, JobSearchParams } from '../types/job'
import { platform } from '../utils/platform'

interface JobState {
  jobs: Job[]
  favorites: Set<string>
  applications: string[]
  searchParams: JobSearchParams | null
  loading: boolean
  error: string | null
  lastFetchTime: number | null
  
  // åŒæ­¥æ–¹æ³•
  setJobs: (jobs: Job[]) => void
  setFavorites: (favorites: Set<string>) => void
  setApplications: (applications: string[]) => void
  setSearchParams: (params: JobSearchParams | null) => void
  setLoading: (loading: boolean) => void
  setError: (error: string | null) => void
  clearError: () => void
  
  // å¼‚æ­¥æ–¹æ³•
  fetchJobs: (params?: JobSearchParams, forceRefresh?: boolean) => Promise<void>
  searchJobs: (params: JobSearchParams) => Promise<void>
  fetchJobDetail: (id: string) => Promise<Job | null>
  applyJob: (jobId: string, resumeId: string) => Promise<boolean>
  favoriteJob: (jobId: string) => Promise<boolean>
  unfavoriteJob: (jobId: string) => Promise<boolean>
  fetchFavorites: () => Promise<void>
  fetchApplications: () => Promise<void>
  
  // å·¥å…·æ–¹æ³•
  getJobById: (id: string) => Job | undefined
  isFavorite: (jobId: string) => boolean
  isApplied: (jobId: string) => boolean
  refreshJobs: () => Promise<void>
}

export const useJobStore = create<JobState>()(
  persist(
    (set, get) => ({
      jobs: [],
      favorites: new Set(),
      applications: [],
      searchParams: null,
      loading: false,
      error: null,
      lastFetchTime: null,
      
      // åŒæ­¥æ–¹æ³•
      setJobs: (jobs) => set({ jobs }),
      setFavorites: (favorites) => set({ favorites }),
      setApplications: (applications) => set({ applications }),
      setSearchParams: (params) => set({ searchParams: params }),
      setLoading: (loading) => set({ loading }),
      setError: (error) => set({ error }),
      clearError: () => set({ error: null }),
      
      // å¼‚æ­¥æ–¹æ³•
      fetchJobs: async (params, forceRefresh = false) => {
        const { lastFetchTime, loading } = get()
        
        if (loading) return
        
        const now = Date.now()
        if (!forceRefresh && lastFetchTime && (now - lastFetchTime) < 3 * 60 * 1000) {
          return
        }
        
        set({ loading: true, error: null })
        
        try {
          const response = await jobService.getList(params)
          set({ 
            jobs: response.jobs, 
            loading: false, 
            lastFetchTime: now 
          })
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'è·å–èŒä½åˆ—è¡¨å¤±è´¥', 
            loading: false 
          })
        }
      },
      
      searchJobs: async (params) => {
        set({ loading: true, error: null, searchParams: params })
        
        try {
          const response = await jobService.search(params)
          set({ 
            jobs: response.jobs, 
            loading: false 
          })
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'æœç´¢èŒä½å¤±è´¥', 
            loading: false 
          })
        }
      },
      
      fetchJobDetail: async (id) => {
        set({ loading: true, error: null })
        
        try {
          const job = await jobService.getDetail(id)
          set({ loading: false })
          return job
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'è·å–èŒä½è¯¦æƒ…å¤±è´¥', 
            loading: false 
          })
          return null
        }
      },
      
      applyJob: async (jobId, resumeId) => {
        set({ loading: true, error: null })
        
        try {
          await jobService.apply({ jobId, resumeId })
          
          // æ›´æ–°æœ¬åœ°çŠ¶æ€
          const { applications } = get()
          set({ 
            applications: [...applications, jobId],
            loading: false 
          })
          
          return true
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'ç”³è¯·èŒä½å¤±è´¥', 
            loading: false 
          })
          return false
        }
      },
      
      favoriteJob: async (jobId) => {
        try {
          await jobService.favorite(jobId)
          
          // æ›´æ–°æœ¬åœ°çŠ¶æ€
          const { favorites } = get()
          const newFavorites = new Set(favorites)
          newFavorites.add(jobId)
          set({ favorites: newFavorites })
          
          return true
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'æ”¶è—èŒä½å¤±è´¥' 
          })
          return false
        }
      },
      
      unfavoriteJob: async (jobId) => {
        try {
          await jobService.unfavorite(jobId)
          
          // æ›´æ–°æœ¬åœ°çŠ¶æ€
          const { favorites } = get()
          const newFavorites = new Set(favorites)
          newFavorites.delete(jobId)
          set({ favorites: newFavorites })
          
          return true
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'å–æ¶ˆæ”¶è—å¤±è´¥' 
          })
          return false
        }
      },
      
      fetchFavorites: async () => {
        set({ loading: true, error: null })
        
        try {
          const favorites = await jobService.getFavorites()
          const favoriteIds = new Set(favorites.map(job => job.id))
          set({ 
            favorites: favoriteIds,
            loading: false 
          })
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'è·å–æ”¶è—åˆ—è¡¨å¤±è´¥', 
            loading: false 
          })
        }
      },
      
      fetchApplications: async () => {
        set({ loading: true, error: null })
        
        try {
          const applications = await jobService.getApplications()
          const applicationIds = applications.map(app => app.jobId)
          set({ 
            applications: applicationIds,
            loading: false 
          })
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'è·å–ç”³è¯·è®°å½•å¤±è´¥', 
            loading: false 
          })
        }
      },
      
      // å·¥å…·æ–¹æ³•
      getJobById: (id) => {
        const { jobs } = get()
        return jobs.find(job => job.id === id)
      },
      
      isFavorite: (jobId) => {
        const { favorites } = get()
        return favorites.has(jobId)
      },
      
      isApplied: (jobId) => {
        const { applications } = get()
        return applications.includes(jobId)
      },
      
      refreshJobs: async () => {
        await get().fetchJobs(undefined, true)
      }
    }),
    {
      name: 'job-storage',
      getStorage: () => ({
        getItem: (name: string) => {
          return platform.storage.getItem(name)
        },
        setItem: (name: string, value: string) => {
          platform.storage.setItem(name, value)
        },
        removeItem: (name: string) => {
          platform.storage.removeItem(name)
        }
      }),
      // æŒä¹…åŒ–ç”¨æˆ·ç›¸å…³æ•°æ®
      partialize: (state) => ({
        favorites: Array.from(state.favorites),
        applications: state.applications,
        searchParams: state.searchParams
      })
    }
  )
)
```

```typescript
// src/store/authStore.ts
import { create } from 'zustand'
import { persist } from 'zustand/middleware'
import { userService } from '../services/userService'
import { User, LoginForm, RegisterForm } from '../types/user'
import { platform } from '../utils/platform'

interface AuthState {
  user: User | null
  token: string | null
  isAuthenticated: boolean
  loading: boolean
  error: string | null
  
  // åŒæ­¥æ–¹æ³•
  setUser: (user: User | null) => void
  setToken: (token: string | null) => void
  setLoading: (loading: boolean) => void
  setError: (error: string | null) => void
  clearError: () => void
  
  // å¼‚æ­¥æ–¹æ³•
  login: (data: LoginForm) => Promise<boolean>
  register: (data: RegisterForm) => Promise<boolean>
  logout: () => Promise<void>
  refreshUserInfo: () => Promise<void>
  updateUserInfo: (data: Partial<User>) => Promise<boolean>
  changePassword: (oldPassword: string, newPassword: string) => Promise<boolean>
  wechatLogin: (code: string) => Promise<boolean>
  
  // å·¥å…·æ–¹æ³•
  checkAuth: () => boolean
  clearAuth: () => void
}

export const useAuthStore = create<AuthState>()(
  persist(
    (set, get) => ({
      user: null,
      token: null,
      isAuthenticated: false,
      loading: false,
      error: null,
      
      // åŒæ­¥æ–¹æ³•
      setUser: (user) => set({ user, isAuthenticated: !!user }),
      setToken: (token) => set({ token }),
      setLoading: (loading) => set({ loading }),
      setError: (error) => set({ error }),
      clearError: () => set({ error: null }),
      
      // å¼‚æ­¥æ–¹æ³•
      login: async (data) => {
        set({ loading: true, error: null })
        
        try {
          const response = await userService.login(data)
          set({ 
            user: response.user,
            token: response.token,
            isAuthenticated: true,
            loading: false 
          })
          return true
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'ç™»å½•å¤±è´¥', 
            loading: false 
          })
          return false
        }
      },
      
      register: async (data) => {
        set({ loading: true, error: null })
        
        try {
          const response = await userService.register(data)
          set({ 
            user: response.user,
            token: response.token,
            isAuthenticated: true,
            loading: false 
          })
          return true
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'æ³¨å†Œå¤±è´¥', 
            loading: false 
          })
          return false
        }
      },
      
      logout: async () => {
        set({ loading: true, error: null })
        
        try {
          await userService.logout()
          set({ 
            user: null,
            token: null,
            isAuthenticated: false,
            loading: false 
          })
        } catch (error) {
          // å³ä½¿ç™»å‡ºå¤±è´¥ï¼Œä¹Ÿè¦æ¸…é™¤æœ¬åœ°çŠ¶æ€
          set({ 
            user: null,
            token: null,
            isAuthenticated: false,
            loading: false 
          })
        }
      },
      
      refreshUserInfo: async () => {
        set({ loading: true, error: null })
        
        try {
          const user = await userService.getInfo()
          set({ 
            user,
            loading: false 
          })
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥', 
            loading: false 
          })
        }
      },
      
      updateUserInfo: async (data) => {
        set({ loading: true, error: null })
        
        try {
          const updatedUser = await userService.updateInfo(data)
          set({ 
            user: updatedUser,
            loading: false 
          })
          return true
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'æ›´æ–°ç”¨æˆ·ä¿¡æ¯å¤±è´¥', 
            loading: false 
          })
          return false
        }
      },
      
      changePassword: async (oldPassword, newPassword) => {
        set({ loading: true, error: null })
        
        try {
          await userService.changePassword({ oldPassword, newPassword })
          set({ loading: false })
          return true
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'ä¿®æ”¹å¯†ç å¤±è´¥', 
            loading: false 
          })
          return false
        }
      },
      
      wechatLogin: async (code) => {
        set({ loading: true, error: null })
        
        try {
          const response = await userService.wechatLogin(code)
          set({ 
            user: response.user,
            token: response.token,
            isAuthenticated: true,
            loading: false 
          })
          return true
        } catch (error) {
          set({ 
            error: error instanceof Error ? error.message : 'å¾®ä¿¡ç™»å½•å¤±è´¥', 
            loading: false 
          })
          return false
        }
      },
      
      // å·¥å…·æ–¹æ³•
      checkAuth: () => {
        const { token, user } = get()
        return !!(token && user)
      },
      
      clearAuth: () => {
        set({ 
          user: null,
          token: null,
          isAuthenticated: false,
          error: null 
        })
      }
    }),
    {
      name: 'auth-storage',
      getStorage: () => ({
        getItem: (name: string) => {
          return platform.storage.getItem(name)
        },
        setItem: (name: string, value: string) => {
          platform.storage.setItem(name, value)
        },
        removeItem: (name: string) => {
          platform.storage.removeItem(name)
        }
      }),
      // æŒä¹…åŒ–è®¤è¯ä¿¡æ¯
      partialize: (state) => ({
        user: state.user,
        token: state.token,
        isAuthenticated: state.isAuthenticated
      })
    }
  )
)
```

#### 3.5.1 çŠ¶æ€ç®¡ç†ç»Ÿä¸€å¯¼å‡º

```typescript
// src/store/index.ts
export { useResumeStore } from './resumeStore'
export { useJobStore } from './jobStore'
export { useAuthStore } from './authStore'

// ç»„åˆStore Hook
export const useAppStore = () => {
  const auth = useAuthStore()
  const resume = useResumeStore()
  const job = useJobStore()
  
  return {
    auth,
    resume,
    job
  }
}
```

#### 3.5.2 çŠ¶æ€ç®¡ç†ä½¿ç”¨ç¤ºä¾‹

```typescript
// åœ¨é¡µé¢ä¸­ä½¿ç”¨çŠ¶æ€ç®¡ç†
import { useResumeStore, useJobStore, useAuthStore } from '@/store'

const ResumeListPage = () => {
  const { 
    resumes, 
    loading, 
    error, 
    fetchResumes, 
    createResume, 
    deleteResume,
    clearError 
  } = useResumeStore()
  
  const { isAuthenticated } = useAuthStore()
  
  useEffect(() => {
    if (isAuthenticated) {
      fetchResumes()
    }
  }, [isAuthenticated, fetchResumes])
  
  const handleCreateResume = async (formData: ResumeForm) => {
    const success = await createResume(formData)
    if (success) {
      Taro.showToast({ title: 'åˆ›å»ºæˆåŠŸ', icon: 'success' })
    }
  }
  
  const handleDeleteResume = async (id: string) => {
    const success = await deleteResume(id)
    if (success) {
      Taro.showToast({ title: 'åˆ é™¤æˆåŠŸ', icon: 'success' })
    }
  }
  
  return (
    <View className="resume-list">
      {loading && <Loading />}
      {error && (
        <View className="error-message">
          <Text>{error}</Text>
          <Button onClick={clearError}>é‡è¯•</Button>
        </View>
      )}
      {resumes.map(resume => (
        <ResumeCard
          key={resume.id}
          resume={resume}
          onEdit={() => Taro.navigateTo({ url: `/pages/resume/edit?id=${resume.id}` })}
          onDelete={() => handleDeleteResume(resume.id)}
        />
      ))}
    </View>
  )
}
```

#### 3.5.3 çŠ¶æ€ç®¡ç†ä¼˜åŠ¿

1. **ç»Ÿä¸€æ¥å£**ï¼šæ‰€æœ‰Storeéƒ½ä½¿ç”¨ç›¸åŒçš„æ¨¡å¼å’Œæ–¹æ³•
2. **è‡ªåŠ¨æŒä¹…åŒ–**ï¼šæ”¯æŒè·¨ç«¯æ•°æ®æŒä¹…åŒ–
3. **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šæ™ºèƒ½ç¼“å­˜å’Œé˜²é‡å¤è¯·æ±‚
5. **é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
6. **æ˜“äºæµ‹è¯•**ï¼šStoreå¯ä»¥ç‹¬ç«‹è¿›è¡Œå•å…ƒæµ‹è¯•
7. **è·¨ç«¯å…¼å®¹**ï¼šä½¿ç”¨å¹³å°é€‚é…çš„å­˜å‚¨æ–¹æ¡ˆ

interface User {
  id: string
  username: string
  email: string
  avatar?: string
  role: string
}

interface AuthState {
  user: User | null
  token: string | null
  isAuthenticated: boolean
  login: (user: User, token: string) => void
  logout: () => void
  updateUser: (user: Partial<User>) => void
}

export const useAuthStore = create<AuthState>()(
  persist(
    (set, get) => ({
      user: null,
      token: null,
      isAuthenticated: false,

      login: (user: User, token: string) => {
        set({
          user,
          token,
          isAuthenticated: true
        })
      },

      logout: () => {
        set({
          user: null,
          token: null,
          isAuthenticated: false
        })
      },

      updateUser: (userData: Partial<User>) => {
        const currentUser = get().user
        if (currentUser) {
          set({
            user: { ...currentUser, ...userData }
          })
        }
      }
    }),
    {
      name: 'auth-storage',
      getStorage: () => ({
        getItem: (name: string) => {
          return Taro.getStorageSync(name)
        },
        setItem: (name: string, value: string) => {
          Taro.setStorageSync(name, value)
        },
        removeItem: (name: string) => {
          Taro.removeStorageSync(name)
        }
      })
    }
  )
)
```

#### 3.3 è·¨ç«¯é€‚é…ç»„ä»¶

```typescript
// components/common/Button.tsx
import { View, Button as TaroButton } from '@tarojs/components'
import { ButtonProps } from '@tarojs/components/types/Button'
import classNames from 'classnames'
import './Button.scss'

interface CustomButtonProps extends ButtonProps {
  variant?: 'primary' | 'secondary' | 'outline'
  size?: 'small' | 'medium' | 'large'
  loading?: boolean
  disabled?: boolean
  children: React.ReactNode
  onClick?: () => void
}

export const Button: React.FC<CustomButtonProps> = ({
  variant = 'primary',
  size = 'medium',
  loading = false,
  disabled = false,
  children,
  onClick,
  className,
  ...props
}) => {
  const buttonClass = classNames(
    'custom-button',
    `custom-button--${variant}`,
    `custom-button--${size}`,
    {
      'custom-button--loading': loading,
      'custom-button--disabled': disabled
    },
    className
  )

  return (
    <TaroButton
      className={buttonClass}
      disabled={disabled || loading}
      onClick={onClick}
      {...props}
    >
      {loading && <View className="custom-button__loading" />}
      <View className="custom-button__content">{children}</View>
    </TaroButton>
  )
}
```

### 4. è¿ç§»å®æ–½è®¡åˆ’

#### é˜¶æ®µ1ï¼šç¯å¢ƒæ­å»º (1å‘¨)

1. **å®‰è£…Taro CLI**
   ```bash
   npm install -g @tarojs/cli
   ```

2. **åˆ›å»ºTaroé¡¹ç›®**
   ```bash
   taro init jobfirst-unified
   cd jobfirst-unified
   ```

3. **é…ç½®å¼€å‘ç¯å¢ƒ**
   ```bash
   # å®‰è£…ä¾èµ–
   npm install
   
   # å®‰è£…é¢å¤–ä¾èµ–
   npm install zustand @tarojs/plugin-platform-weapp
   npm install -D @types/node typescript
   ```

4. **é…ç½®Taro**
   ```typescript
   // config/index.ts
   export default {
     projectName: 'jobfirst-unified',
     date: '2024-1-1',
     designWidth: 750,
     deviceRatio: {
       640: 2.34 / 2,
       750: 1,
       828: 1.81 / 2
     },
     sourceRoot: 'src',
     outputRoot: 'dist',
     plugins: [
       '@tarojs/plugin-platform-weapp'
     ],
     defineConstants: {},
     alias: {},
     copy: {
       patterns: [],
       options: {}
     },
     framework: 'react',
     compiler: 'webpack5',
     cache: {
       enable: false
     },
     mini: {
       postcss: {
         pxtransform: {
           enable: true,
           config: {}
         },
         url: {
           enable: true,
           config: {
             limit: 1024
           }
         },
         cssModules: {
           enable: false,
           config: {
             namingPattern: 'module',
             generateScopedName: '[name]__[local]___[hash:base64:5]'
           }
         }
       }
     },
     h5: {
       publicPath: '/',
       staticDirectory: 'static',
       postcss: {
         autoprefixer: {
           enable: true,
           config: {}
         },
         cssModules: {
           enable: false,
           config: {
             namingPattern: 'module',
             generateScopedName: '[name]__[local]___[hash:base64:5]'
           }
         }
       }
     }
   }
   ```

#### é˜¶æ®µ2ï¼šæ ¸å¿ƒåŠŸèƒ½è¿ç§» (2-3å‘¨)

1. **ç”¨æˆ·è®¤è¯æ¨¡å—**
   - ç™»å½•/æ³¨å†Œé¡µé¢
   - JWT Tokenç®¡ç†
   - ç”¨æˆ·ä¿¡æ¯ç®¡ç†

2. **ç®€å†ç®¡ç†æ¨¡å—**
   - ç®€å†åˆ—è¡¨é¡µé¢
   - ç®€å†åˆ›å»º/ç¼–è¾‘
   - æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

3. **èŒä½æœç´¢æ¨¡å—**
   - èŒä½åˆ—è¡¨é¡µé¢
   - èŒä½è¯¦æƒ…é¡µé¢
   - æœç´¢å’Œç­›é€‰åŠŸèƒ½

#### é˜¶æ®µ3ï¼šé«˜çº§åŠŸèƒ½è¿ç§» (2å‘¨)

1. **AIåŠ©æ‰‹æ¨¡å—**
   - èŠå¤©ç•Œé¢
   - ç®€å†åˆ†æåŠŸèƒ½
   - æ™ºèƒ½æ¨è

2. **æ•°æ®åˆ†ææ¨¡å—**
   - ç»Ÿè®¡å›¾è¡¨
   - æ•°æ®å¯è§†åŒ–
   - æŠ¥è¡¨ç”Ÿæˆ

#### é˜¶æ®µ4ï¼šä¼˜åŒ–å’Œæµ‹è¯• (1-2å‘¨)

1. **æ€§èƒ½ä¼˜åŒ–**
   - ä»£ç åˆ†å‰²
   - æ‡’åŠ è½½
   - ç¼“å­˜ç­–ç•¥

2. **å…¼å®¹æ€§æµ‹è¯•**
   - å¾®ä¿¡å°ç¨‹åºæµ‹è¯•
   - H5ç«¯æµ‹è¯•
   - è·¨ç«¯åŠŸèƒ½éªŒè¯

3. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
   - ç•Œé¢é€‚é…
   - äº¤äº’ä¼˜åŒ–
   - é”™è¯¯å¤„ç†

### 5. åç«¯é€‚é…æ–¹æ¡ˆ

#### 5.1 APIæ ‡å‡†åŒ–

```go
// ç»Ÿä¸€å“åº”æ ¼å¼
type ApiResponse struct {
    Code    int         `json:"code"`
    Message string      `json:"message"`
    Data    interface{} `json:"data"`
    Meta    *Meta       `json:"meta,omitempty"`
}

type Meta struct {
    Pagination *Pagination `json:"pagination,omitempty"`
    Timestamp  int64       `json:"timestamp"`
    Version    string      `json:"version"`
}

// ç»Ÿä¸€é”™è¯¯å¤„ç†
func ErrorResponse(code int, message string) gin.H {
    return gin.H{
        "code":    code,
        "message": message,
        "data":    nil,
        "meta": gin.H{
            "timestamp": time.Now().Unix(),
            "version":   "v2",
        },
    }
}
```

#### 5.2 è·¨ç«¯è®¤è¯æ”¯æŒ

```go
// å¢å¼ºJWT Claims
type JWTClaims struct {
    UserID     string `json:"user_id"`
    TenantType string `json:"tenant_type"`
    Role       string `json:"role"`
    Platform   string `json:"platform"` // miniprogram/web
    ExpiresAt  int64  `json:"exp"`
}

// ç»Ÿä¸€è®¤è¯ä¸­é—´ä»¶
func AuthMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        token := extractToken(c) // æ”¯æŒå¤šç§æ–¹å¼è·å–token
        
        claims, err := validateToken(token)
        if err != nil {
            c.JSON(401, ErrorResponse(401, "Unauthorized"))
            c.Abort()
            return
        }
        
        c.Set("user", claims)
        c.Next()
    }
}
```

### 6. é¢„æœŸæ”¶ç›Š

#### å¼€å‘æ•ˆç‡æå‡
- **ä»£ç å¤ç”¨ç‡**ï¼šä»30%æå‡åˆ°80%
- **å¼€å‘æ—¶é—´**ï¼šæ–°åŠŸèƒ½å¼€å‘æ—¶é—´å‡å°‘50%
- **ç»´æŠ¤æˆæœ¬**ï¼šé™ä½60%

#### ç³»ç»Ÿç¨³å®šæ€§æå‡
- **APIä¸€è‡´æ€§**ï¼šç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼
- **æµ‹è¯•è¦†ç›–**ï¼šç»Ÿä¸€çš„æµ‹è¯•ç­–ç•¥
- **ç›‘æ§ç»Ÿä¸€**ï¼šç»Ÿä¸€çš„æ—¥å¿—å’Œç›‘æ§

#### ç”¨æˆ·ä½“éªŒæ”¹å–„
- **åŠŸèƒ½åŒæ­¥**ï¼šæ–°åŠŸèƒ½åœ¨æ‰€æœ‰ç«¯åŒæ—¶ä¸Šçº¿
- **æ•°æ®ä¸€è‡´æ€§**ï¼šè·¨ç«¯æ•°æ®å®æ—¶åŒæ­¥
- **æ€§èƒ½ä¼˜åŒ–**ï¼šç»Ÿä¸€çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 7. é£é™©è¯„ä¼°ä¸åº”å¯¹

#### æŠ€æœ¯é£é™©
- **Taroç‰ˆæœ¬å…¼å®¹æ€§**ï¼šé€‰æ‹©ç¨³å®šç‰ˆæœ¬ï¼Œå……åˆ†æµ‹è¯•
- **å¹³å°å·®å¼‚**ï¼šå»ºç«‹å®Œå–„çš„é€‚é…å±‚
- **æ€§èƒ½é—®é¢˜**ï¼šä¼˜åŒ–æ‰“åŒ…ä½“ç§¯å’Œè¿è¡Œæ—¶æ€§èƒ½

#### ä¸šåŠ¡é£é™©
- **åŠŸèƒ½ç¼ºå¤±**ï¼šç¡®ä¿æ‰€æœ‰ç°æœ‰åŠŸèƒ½éƒ½èƒ½æ­£å¸¸è¿ç§»
- **ç”¨æˆ·ä½“éªŒ**ï¼šä¿æŒæˆ–æå‡ç°æœ‰ç”¨æˆ·ä½“éªŒ
- **æ•°æ®å®‰å…¨**ï¼šç¡®ä¿è·¨ç«¯æ•°æ®å®‰å…¨

#### åº”å¯¹ç­–ç•¥
- **åˆ†é˜¶æ®µè¿ç§»**ï¼šé€æ­¥è¿ç§»ï¼Œé™ä½é£é™©
- **å……åˆ†æµ‹è¯•**ï¼šæ¯ä¸ªé˜¶æ®µéƒ½è¦è¿›è¡Œå……åˆ†æµ‹è¯•
- **å›æ»šæ–¹æ¡ˆ**ï¼šä¿ç•™åŸæœ‰ä»£ç ï¼Œç¡®ä¿å¯ä»¥å¿«é€Ÿå›æ»š

### 8. å®æ–½æ—¶é—´è¡¨

| é˜¶æ®µ | æ—¶é—´ | ä¸»è¦ä»»åŠ¡ | äº¤ä»˜ç‰© | çŠ¶æ€ |
|------|------|----------|--------|------|
| é˜¶æ®µ1 | ç¬¬1å‘¨ | ç¯å¢ƒæ­å»º | Taroé¡¹ç›®æ¡†æ¶ | âœ… å·²å®Œæˆ |
| é˜¶æ®µ2 | ç¬¬2-4å‘¨ | æ ¸å¿ƒåŠŸèƒ½è¿ç§» | ç”¨æˆ·è®¤è¯ã€ç®€å†ç®¡ç†ã€èŒä½æœç´¢ | âœ… å·²å®Œæˆ |
| é˜¶æ®µ3 | ç¬¬5-6å‘¨ | é«˜çº§åŠŸèƒ½è¿ç§» | AIåŠ©æ‰‹ã€æ•°æ®åˆ†æ | âœ… å·²å®Œæˆ |
| é˜¶æ®µ4 | ç¬¬7-8å‘¨ | ä¼˜åŒ–å’Œæµ‹è¯• | å®Œæ•´çš„äº§å“ç‰ˆæœ¬ | âœ… å·²å®Œæˆ |

### 8.1 å½“å‰å®æ–½çŠ¶æ€ (2025å¹´1æœˆ)

#### âœ… å·²å®Œæˆçš„åŠŸèƒ½æ¨¡å—

1. **é¡¹ç›®æ¡†æ¶æ­å»º**
   - Taro 4.1.6 + React 18 + TypeScript
   - å®Œæ•´çš„é¡¹ç›®ç»“æ„å’Œé…ç½®
   - å¾®ä¿¡å°ç¨‹åºå’ŒH5åŒç«¯æ”¯æŒ

2. **æ ¸å¿ƒåŠŸèƒ½å®ç°**
   - âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆç™»å½•ã€æ³¨å†Œã€ç”¨æˆ·ç®¡ç†ï¼‰
   - âœ… ç®€å†ç®¡ç†ç³»ç»Ÿï¼ˆåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ã€åˆ—è¡¨ï¼‰
   - âœ… èŒä½æœç´¢ç³»ç»Ÿï¼ˆèŒä½åˆ—è¡¨ã€è¯¦æƒ…ã€ç”³è¯·ï¼‰
   - âœ… AIåŠ©æ‰‹åŠŸèƒ½ï¼ˆèŠå¤©ã€ç®€å†åˆ†æï¼‰
   - âœ… æ•°æ®åˆ†ææ¨¡å—ï¼ˆç»Ÿè®¡å›¾è¡¨ã€ä¸ªäººæ•°æ®ï¼‰

3. **æŠ€æœ¯æ¶æ„å®Œå–„**
   - âœ… ç»Ÿä¸€APIæœåŠ¡å±‚ï¼ˆrequest.tsï¼‰
   - âœ… çŠ¶æ€ç®¡ç†ï¼ˆZustandï¼‰
   - âœ… ç»„ä»¶åº“ï¼ˆUIç»„ä»¶ã€ä¸šåŠ¡ç»„ä»¶ï¼‰
   - âœ… ç±»å‹å®šä¹‰ï¼ˆå®Œæ•´çš„TypeScriptç±»å‹ï¼‰
   - âœ… å¹³å°é€‚é…ï¼ˆè·¨ç«¯å…¼å®¹ï¼‰

4. **é¡µé¢ç»“æ„å®Œæ•´**
   - âœ… é¦–é¡µï¼ˆæœç´¢ã€è½®æ’­å›¾ã€å¿«æ·åŠŸèƒ½ï¼‰
   - âœ… ç™»å½•/æ³¨å†Œé¡µé¢
   - âœ… ç®€å†ç®¡ç†é¡µé¢ï¼ˆåˆ—è¡¨ã€åˆ›å»ºã€ç¼–è¾‘ã€è¯¦æƒ…ï¼‰
   - âœ… èŒä½æœç´¢é¡µé¢
   - âœ… AIåŠ©æ‰‹é¡µé¢
   - âœ… ä¸ªäººä¸­å¿ƒé¡µé¢
   - âœ… æ•°æ®åˆ†æé¡µé¢
   - âœ… ç³»ç»Ÿè®¾ç½®é¡µé¢
   - âœ… ç§¯åˆ†ç³»ç»Ÿé¡µé¢
   - âœ… æ–‡ä»¶ç®¡ç†é¡µé¢

5. **æ„å»ºå’Œéƒ¨ç½²**
   - âœ… å¾®ä¿¡å°ç¨‹åºæ„å»ºæˆåŠŸ
   - âœ… H5ç«¯æ„å»ºæ”¯æŒ
   - âœ… é…ç½®æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ
   - âœ… å¾®ä¿¡å¼€å‘è€…å·¥å…·å…¼å®¹

6. **çƒ­åŠ è½½å¼€å‘ç¯å¢ƒ**
   - âœ… API Gateway: airçƒ­åŠ è½½é…ç½®å®Œæˆ
   - âœ… User Service: airçƒ­åŠ è½½é…ç½®å®Œæˆ
   - âœ… Resume Service: airçƒ­åŠ è½½é…ç½®å®Œæˆ
   - âœ… AI Service: Sanicçƒ­åŠ è½½é…ç½®å®Œæˆ
   - âœ… å‰ç«¯: Taro HMRæ”¯æŒ
   - âœ… ç»Ÿä¸€å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬ (`scripts/start-dev-environment.sh`)

#### âš ï¸ éœ€è¦å®Œå–„çš„éƒ¨åˆ†

1. **å¾®æœåŠ¡é›†æˆ**
   - åç«¯å¾®æœåŠ¡æœªå¯åŠ¨ï¼ˆéœ€è¦å¯åŠ¨APIç½‘å…³ã€ç”¨æˆ·æœåŠ¡ã€ç®€å†æœåŠ¡ã€AIæœåŠ¡ï¼‰
   - æ•°æ®åº“è¿æ¥æ­£å¸¸ï¼ŒåŒ…å«5ä¸ªæµ‹è¯•ç”¨æˆ·
   - ConsulæœåŠ¡å‘ç°æ­£å¸¸è¿è¡Œ

2. **åŠŸèƒ½æµ‹è¯•**
   - éœ€è¦å¯åŠ¨åç«¯æœåŠ¡è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•
   - APIæ¥å£é›†æˆæµ‹è¯•
   - è·¨ç«¯åŠŸèƒ½éªŒè¯

3. **æ€§èƒ½ä¼˜åŒ–**
   - CSSå†²çªè­¦å‘Šï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
   - æ„å»ºä½“ç§¯ä¼˜åŒ–
   - è¿è¡Œæ—¶æ€§èƒ½è°ƒä¼˜

### 8.2 çƒ­åŠ è½½å¼€å‘ç¯å¢ƒä½¿ç”¨æŒ‡å—

#### å¿«é€Ÿå¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ (æ•°æ®åº“ + åç«¯ + å‰ç«¯ï¼Œæ”¯æŒçƒ­åŠ è½½)
./scripts/start-dev-environment.sh start

# ä»…å¯åŠ¨åç«¯æœåŠ¡ (æ•°æ®åº“ + å¾®æœåŠ¡ï¼Œæ”¯æŒçƒ­åŠ è½½)
./scripts/start-dev-environment.sh backend

# ä»…å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
./scripts/start-dev-environment.sh frontend
```

#### çƒ­åŠ è½½ç‰¹æ€§

1. **GoæœåŠ¡çƒ­åŠ è½½ (Air)**
   - API Gateway: ä¿®æ”¹Goä»£ç è‡ªåŠ¨é‡å¯
   - User Service: ä¿®æ”¹Goä»£ç è‡ªåŠ¨é‡å¯
   - Resume Service: ä¿®æ”¹Goä»£ç è‡ªåŠ¨é‡å¯

2. **PythonæœåŠ¡çƒ­åŠ è½½ (Sanic)**
   - AI Service: ä¿®æ”¹Pythonä»£ç è‡ªåŠ¨é‡å¯

3. **å‰ç«¯çƒ­åŠ è½½ (Taro HMR)**
   - ä¿®æ”¹Reactç»„ä»¶è‡ªåŠ¨åˆ·æ–°
   - ä¿®æ”¹æ ·å¼è‡ªåŠ¨æ›´æ–°
   - ä¿®æ”¹TypeScriptä»£ç è‡ªåŠ¨ç¼–è¯‘

#### å¼€å‘æ•ˆç‡æå‡

- **ä»£ç ä¿®æ”¹å³æ—¶ç”Ÿæ•ˆ**: æ— éœ€æ‰‹åŠ¨é‡å¯æœåŠ¡
- **å®æ—¶é”™è¯¯åé¦ˆ**: ç¼–è¯‘é”™è¯¯å’Œè¿è¡Œæ—¶é”™è¯¯å®æ—¶æ˜¾ç¤º
- **ç»Ÿä¸€å¼€å‘ç¯å¢ƒ**: å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç›¸åŒçš„å¼€å‘ç¯å¢ƒ
- **å¿«é€Ÿè°ƒè¯•**: æ”¯æŒæ–­ç‚¹è°ƒè¯•å’Œæ—¥å¿—è¾“å‡º

### 9. æ€»ç»“

é‡‡ç”¨Taroç»Ÿä¸€å¼€å‘æ–¹æ¡ˆå°†æ˜¾è‘—æå‡JobFirsté¡¹ç›®çš„å¼€å‘æ•ˆç‡å’Œç»´æŠ¤æ€§ï¼š

1. **æŠ€æœ¯ä¼˜åŠ¿**ï¼šä¸€å¥—ä»£ç ï¼Œå¤šç«¯è¿è¡Œï¼Œå‡å°‘é‡å¤å¼€å‘
2. **ç»´æŠ¤ä¼˜åŠ¿**ï¼šç»Ÿä¸€çš„ä»£ç åº“ï¼Œç®€åŒ–ç»´æŠ¤å’Œæ›´æ–°
3. **æ‰©å±•ä¼˜åŠ¿**ï¼šæ˜“äºæ‰©å±•åˆ°å…¶ä»–å¹³å°ï¼ˆæ”¯ä»˜å®å°ç¨‹åºã€ç™¾åº¦å°ç¨‹åºç­‰ï¼‰
4. **å›¢é˜Ÿä¼˜åŠ¿**ï¼šç»Ÿä¸€çš„å¼€å‘æµç¨‹ï¼Œæé«˜å›¢é˜Ÿåä½œæ•ˆç‡

é€šè¿‡åˆç†çš„è¿ç§»è®¡åˆ’å’Œå……åˆ†çš„æµ‹è¯•éªŒè¯ï¼Œå¯ä»¥ç¡®ä¿é¡¹ç›®çš„å¹³ç¨³è¿‡æ¸¡å’ŒåŠŸèƒ½å®Œæ•´æ€§ã€‚

## â“ å¸¸è§é—®é¢˜è§£ç­”

### Q1: Taroå‰ç«¯æ¶æ„ä¸åç«¯APIçš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ

**A:** Taroå‰ç«¯æ¶æ„æ˜¯å‰ç«¯åº”ç”¨æ¶æ„ï¼Œé€šè¿‡APIè°ƒç”¨ä¸åç«¯äº¤äº’ï¼Œå…·ä½“å…³ç³»å¦‚ä¸‹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Taroç»Ÿä¸€å‰ç«¯æ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  src/                                                      â”‚
â”‚  â”œâ”€â”€ services/          â†â†’ åç«¯APIæ¥å£å±‚                    â”‚
â”‚  â”‚   â”œâ”€â”€ auth.ts       â†â†’ /api/v2/auth/*                   â”‚
â”‚  â”‚   â”œâ”€â”€ user.ts       â†â†’ /api/v2/user/*                   â”‚
â”‚  â”‚   â”œâ”€â”€ resume.ts     â†â†’ /api/v1/resume/*                 â”‚
â”‚  â”‚   â”œâ”€â”€ job.ts        â†â†’ /api/v2/jobs/*                   â”‚
â”‚  â”‚   â””â”€â”€ ai.ts         â†â†’ /api/v1/ai/*                     â”‚
â”‚  â”œâ”€â”€ stores/           â†â†’ çŠ¶æ€ç®¡ç† + APIè°ƒç”¨                â”‚
â”‚  â”œâ”€â”€ components/       â†â†’ UIç»„ä»¶åº“                          â”‚
â”‚  â””â”€â”€ pages/            â†â†’ é¡µé¢ç»„ä»¶                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¼–è¯‘è¾“å‡º                                                  â”‚
â”‚  â”œâ”€â”€ å¾®ä¿¡å°ç¨‹åº (dist/weapp)                               â”‚
â”‚  â””â”€â”€ H5 Webç«¯ (dist/h5)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¸åç«¯å¾®æœåŠ¡çš„å¯¹åº”å…³ç³»ï¼š**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åç«¯å¾®æœåŠ¡æ¶æ„                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  User Service (Port 8001)     â†â†’ å‰ç«¯ services/auth.ts     â”‚
â”‚  Resume Service (Port 8002)   â†â†’ å‰ç«¯ services/resume.ts   â”‚
â”‚  AI Service (Port 8206)       â†â†’ å‰ç«¯ services/ai.ts       â”‚
â”‚  API Gateway (Port 8080)      â†â†’ å‰ç«¯ç»Ÿä¸€å…¥å£              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Q2: æ¯ä¸ªç»„ä»¶ç›®å½•çš„å…·ä½“ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ

**A:** å„ç»„ä»¶ç›®å½•çš„è¯¦ç»†åŠŸèƒ½è§£æï¼š

#### **services/ ç›®å½• - APIé›†æˆå±‚**
```typescript
// src/services/resumeService.ts
// è¿™æ˜¯å‰ç«¯å¯¹åç«¯APIçš„å°è£…ï¼Œä¸æ˜¯APIç®¡ç†
export const resumeService = {
  // è°ƒç”¨åç«¯ /api/v1/resume/list
  getList: () => request<Resume[]>({
    url: '/api/v1/resume/list',
    method: 'GET'
  }),
  
  // è°ƒç”¨åç«¯ /api/v1/resume/create  
  create: (data: ResumeForm) => request<Resume>({
    url: '/api/v1/resume/create',
    method: 'POST',
    data
  })
}
```

**ä½œç”¨**ï¼š
- âœ… **APIé›†æˆ**ï¼šå°è£…åç«¯APIè°ƒç”¨
- âœ… **ç±»å‹å®‰å…¨**ï¼šæä¾›TypeScriptç±»å‹å®šä¹‰
- âœ… **é”™è¯¯å¤„ç†**ï¼šç»Ÿä¸€å¤„ç†APIé”™è¯¯
- âŒ **ä¸æ˜¯APIç®¡ç†**ï¼šä¸ç®¡ç†åç«¯APIå®šä¹‰

#### **stores/ ç›®å½• - çŠ¶æ€ç®¡ç† + APIè°ƒç”¨**
```typescript
// src/stores/resumeStore.ts
export const useResumeStore = create<ResumeState>()(
  (set, get) => ({
    // çŠ¶æ€
    resumes: [],
    loading: false,
    error: null,
    
    // è°ƒç”¨APIæœåŠ¡
    fetchResumes: async () => {
      set({ loading: true })
      try {
        const response = await resumeService.getList() // â† è°ƒç”¨APIæœåŠ¡
        set({ resumes: response, loading: false })
      } catch (error) {
        set({ error: error.message, loading: false })
      }
    }
  })
)
```

**ä½œç”¨**ï¼š
- âœ… **çŠ¶æ€ç®¡ç†**ï¼šç®¡ç†å‰ç«¯åº”ç”¨çŠ¶æ€
- âœ… **APIè°ƒç”¨**ï¼šé€šè¿‡servicesè°ƒç”¨åç«¯API
- âœ… **æ•°æ®ç¼“å­˜**ï¼šç¼“å­˜APIè¿”å›çš„æ•°æ®
- âŒ **ä¸æ˜¯APIç®¡ç†**ï¼šä¸ç®¡ç†åç«¯API

#### **components/ ç›®å½• - UIç»„ä»¶åº“**
```typescript
// src/components/ResumeCard/index.tsx
export const ResumeCard: React.FC<ResumeCardProps> = ({ 
  resume, 
  onView, 
  onEdit, 
  onDelete 
}) => {
  return (
    <View className="resume-card">
      <Text className="resume-card__title">{resume.title}</Text>
      <Button onClick={() => onEdit(resume.id)}>ç¼–è¾‘</Button>
    </View>
  )
}
```

**ä½œç”¨**ï¼š
- âœ… **UIå±•ç¤º**ï¼šå±•ç¤ºæ•°æ®
- âœ… **ç”¨æˆ·äº¤äº’**ï¼šå¤„ç†ç”¨æˆ·æ“ä½œ
- âœ… **ç»„ä»¶å¤ç”¨**ï¼šè·¨é¡µé¢å¤ç”¨
- âŒ **ä¸ç›´æ¥è°ƒç”¨API**ï¼šé€šè¿‡propsæ¥æ”¶æ•°æ®å’Œå›è°ƒ

### Q3: Ginæ¡†æ¶åœ¨å‰ç«¯å¼€å‘ä¸­çš„è§’è‰²æ˜¯ä»€ä¹ˆï¼Ÿ

**A:** Ginæ¡†æ¶æ˜¯åç«¯APIæœåŠ¡æä¾›è€…ï¼Œä¸ç›´æ¥æœåŠ¡å‰ç«¯é¡µé¢ï¼š

#### **Ginæ¡†æ¶çš„å®é™…ä½œç”¨**
```go
// åç«¯ - Ginæ¡†æ¶æä¾›APIæœåŠ¡
func main() {
    router := gin.Default()
    
    // APIè·¯ç”±å®šä¹‰
    api := router.Group("/api/v1")
    {
        api.GET("/resume/list", getResumeList)      // â† å‰ç«¯è°ƒç”¨
        api.POST("/resume/create", createResume)    // â† å‰ç«¯è°ƒç”¨
        api.PUT("/resume/update/:id", updateResume) // â† å‰ç«¯è°ƒç”¨
    }
    
    router.Run(":8002")
}
```

```typescript
// å‰ç«¯ - Taroè°ƒç”¨åç«¯API
// src/services/resumeService.ts
export const resumeService = {
  getList: () => request<Resume[]>({
    url: '/api/v1/resume/list',    // â† è°ƒç”¨åç«¯Gin API
    method: 'GET'
  }),
  
  create: (data: ResumeForm) => request<Resume>({
    url: '/api/v1/resume/create',  // â† è°ƒç”¨åç«¯Gin API
    method: 'POST',
    data
  })
}
```

#### **Ginæ¡†æ¶çš„ä½œç”¨**
- âœ… **åç«¯APIæœåŠ¡**ï¼šæä¾›RESTful APIæ¥å£
- âœ… **è·¯ç”±ç®¡ç†**ï¼šå®šä¹‰APIè·¯ç”±å’Œå¤„ç†å™¨
- âœ… **ä¸­é—´ä»¶æ”¯æŒ**ï¼šè®¤è¯ã€æ—¥å¿—ã€CORSç­‰
- âœ… **JSONå“åº”**ï¼šè¿”å›JSONæ ¼å¼æ•°æ®

#### **Ginä¸ç›´æ¥æœåŠ¡å‰ç«¯é¡µé¢**
```go
// Ginæä¾›APIæœåŠ¡ï¼Œä¸ç›´æ¥æœåŠ¡HTMLé¡µé¢
router.GET("/api/v1/resume/list", func(c *gin.Context) {
    // è¿”å›JSONæ•°æ®ï¼Œä¸æ˜¯HTMLé¡µé¢
    c.JSON(200, gin.H{
        "code": 200,
        "data": resumes,
    })
})

// Taroç¼–è¯‘åçš„å‰ç«¯é¡µé¢ç”±WebæœåŠ¡å™¨ï¼ˆå¦‚Nginxï¼‰æœåŠ¡
// å‰ç«¯é¡µé¢é€šè¿‡fetch/axiosè°ƒç”¨Gin APIè·å–æ•°æ®
```

### Q4: å®Œæ•´çš„è°ƒç”¨é“¾è·¯æ˜¯æ€æ ·çš„ï¼Ÿ

**A:** æ•°æ®æµå‘å’Œè°ƒç”¨é“¾è·¯ï¼š

#### **æ•°æ®æµå‘**
```
ç”¨æˆ·æ“ä½œ â†’ ç»„ä»¶äº‹ä»¶ â†’ Storeæ–¹æ³• â†’ Service API â†’ åç«¯Gin API â†’ æ•°æ®åº“
    â†“           â†“          â†“           â†“            â†“
  UIäº¤äº’    çŠ¶æ€æ›´æ–°    APIè°ƒç”¨    ç½‘ç»œè¯·æ±‚    æ•°æ®å­˜å‚¨
```

#### **å…·ä½“ç¤ºä¾‹**
```typescript
// 1. ç”¨æˆ·åœ¨é¡µé¢ä¸­ç‚¹å‡»"åˆ›å»ºç®€å†"
const ResumeCreatePage = () => {
  const { createResume } = useResumeStore() // â† ä»Storeè·å–æ–¹æ³•
  
  const handleSubmit = async (formData: ResumeForm) => {
    await createResume(formData) // â† è°ƒç”¨Storeæ–¹æ³•
  }
  
  return <ResumeForm onSubmit={handleSubmit} />
}

// 2. Storeè°ƒç”¨Service
// src/stores/resumeStore.ts
createResume: async (data) => {
  const newResume = await resumeService.create(data) // â† è°ƒç”¨Service
  // æ›´æ–°æœ¬åœ°çŠ¶æ€...
}

// 3. Serviceè°ƒç”¨åç«¯API
// src/services/resumeService.ts
create: (data: ResumeForm) => request<Resume>({
  url: '/api/v1/resume/create', // â† è°ƒç”¨åç«¯Gin API
  method: 'POST',
  data
})

// 4. åç«¯Ginå¤„ç†è¯·æ±‚
// backend/internal/resume/main.go
func createResume(c *gin.Context) {
  // å¤„ç†ä¸šåŠ¡é€»è¾‘
  // ä¿å­˜åˆ°æ•°æ®åº“
  c.JSON(200, gin.H{"data": resume})
}
```

### Q5: ç”Ÿäº§ç¯å¢ƒå¦‚ä½•éƒ¨ç½²ï¼Ÿ

**A:** ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Nginx/CDN     â”‚    â”‚   Taro H5       â”‚    â”‚   Gin API       â”‚
â”‚   (é™æ€èµ„æº)     â”‚    â”‚   (å‰ç«¯åº”ç”¨)     â”‚    â”‚   (åç«¯æœåŠ¡)     â”‚
â”‚   Port: 80/443  â”‚    â”‚   Port: 3000    â”‚    â”‚   Port: 8080    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   æ•°æ®åº“/ç¼“å­˜    â”‚
                    â”‚   MySQL/Redis   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**éƒ¨ç½²è¯´æ˜**ï¼š
1. **Nginx/CDN**ï¼šæœåŠ¡é™æ€èµ„æºï¼ˆHTMLã€CSSã€JSï¼‰
2. **Taro H5**ï¼šç¼–è¯‘åçš„å‰ç«¯åº”ç”¨
3. **Gin API**ï¼šåç«¯å¾®æœåŠ¡API
4. **æ•°æ®åº“**ï¼šMySQLå­˜å‚¨ä¸šåŠ¡æ•°æ®ï¼ŒRedisç¼“å­˜

### Q6: è¿™ä¸ªæ¶æ„çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ

**A:** æ ¸å¿ƒä¼˜åŠ¿æ€»ç»“ï¼š

1. **å‰åç«¯åˆ†ç¦»**ï¼šå‰ç«¯ä¸“æ³¨äºç”¨æˆ·ç•Œé¢å’Œäº¤äº’ï¼Œåç«¯ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œæ•°æ®ç®¡ç†
2. **ç»Ÿä¸€æŠ€æœ¯æ ˆ**ï¼šä¸€å¥—ä»£ç æ”¯æŒå¤šç«¯ï¼Œå‡å°‘é‡å¤å¼€å‘
3. **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰ï¼Œæä¾›æ™ºèƒ½ä»£ç æç¤º
4. **ç»Ÿä¸€æ¥å£**ï¼šæ‰€æœ‰ä¸šåŠ¡æœåŠ¡éƒ½ä½¿ç”¨ç›¸åŒçš„requestå‡½æ•°ï¼Œä¿è¯ä¸€è‡´æ€§
5. **æ˜“äºç»´æŠ¤**ï¼šä¸šåŠ¡é€»è¾‘é›†ä¸­ç®¡ç†ï¼Œä¾¿äºä¿®æ”¹å’Œæ‰©å±•
6. **è·¨ç«¯å…¼å®¹**ï¼šä½¿ç”¨å¹³å°é€‚é…çš„å­˜å‚¨æ–¹æ¡ˆå’Œç»„ä»¶åº“
7. **æ€§èƒ½ä¼˜åŒ–**ï¼šæ™ºèƒ½ç¼“å­˜ã€é˜²é‡å¤è¯·æ±‚ã€ä»£ç åˆ†å‰²ç­‰

### Q7: å¦‚ä½•ç†è§£"ä¸æ˜¯APIç®¡ç†"è¿™ä¸ªæ¦‚å¿µï¼Ÿ

**A:** é‡è¦æ¦‚å¿µæ¾„æ¸…ï¼š

- **å‰ç«¯services/ç›®å½•**ï¼šæ˜¯APIçš„**æ¶ˆè´¹è€…**ï¼Œå°è£…å¯¹åç«¯APIçš„è°ƒç”¨
- **åç«¯Ginæ¡†æ¶**ï¼šæ˜¯APIçš„**æä¾›è€…**ï¼Œå®šä¹‰å’Œç®¡ç†APIæ¥å£
- **APIç®¡ç†**ï¼šé€šå¸¸æŒ‡APIç½‘å…³ã€APIæ–‡æ¡£ã€APIç‰ˆæœ¬æ§åˆ¶ç­‰åç«¯æœåŠ¡

**å…·ä½“åŒºåˆ«**ï¼š
```typescript
// å‰ç«¯ - APIæ¶ˆè´¹è€…ï¼ˆè°ƒç”¨æ–¹ï¼‰
export const resumeService = {
  getList: () => request<Resume[]>({
    url: '/api/v1/resume/list',  // â† è°ƒç”¨åç«¯å®šä¹‰çš„API
    method: 'GET'
  })
}

// åç«¯ - APIæä¾›è€…ï¼ˆå®šä¹‰æ–¹ï¼‰
func main() {
  router.GET("/api/v1/resume/list", getResumeList) // â† å®šä¹‰APIæ¥å£
}
```

å‰ç«¯ä¸ç®¡ç†APIçš„å®šä¹‰ï¼Œåªè´Ÿè´£è°ƒç”¨å’Œå°è£…ã€‚
